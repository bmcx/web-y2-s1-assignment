{"version":3,"sources":["utils/firebaseConfig.js","reportWebVitals.js","state/actionTypes.js","state/auth/authReducer.js","state/rootReducer.js","common/components/ToggleSwitch.js","pages/HomePage/component/CategoryChip.js","common/components/Icons.js","pages/HomePage/component/ResultListItem.js","state/auth/authActions.js","pages/HomePage/HomePageContainer.js","pages/UserProfile/component/Departmentuserprofile/DepartmentP.js","pages/UserProfile/UserProfileContainer.js","common/components/NavTooltip.js","common/containers/SideNavContainer.js","common/components/Tooltip.js","common/components/FormInput.js","common/components/FormInputPassword.js","common/components/LogoLong.js","common/components/SignInWithGoogleButton.js","pages/Auth/component/SignInComponent.js","pages/Auth/component/SignUpComponent.js","pages/Auth/AuthContainer.js","pages/Loading/LoadingContainer.js","pages/Auth/AddProfileInfoContainer.js","pages/HarvestPage/components/UserInfoCard.js","pages/HarvestPage/components/UserInfoCardMessages.js","pages/HarvestPage/components/MessageContainer.js","pages/HarvestPage/HarvestPageContainer.js","pages/GraphPage/GraphPageContainer.js","common/components/FormInputControlled.js","pages/HarvestPage/AddHarvestContainer.js","pages/Settings/SettingsContainer.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","settings","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","actionTypes","LOGIN_SUCCESS","LOGIN_ERROR","GOOGLE_LOGIN_SUCCESS","GOOGLE_LOGIN_ERROR","SHOW_AUTH_MODAL","HIDE_AUTH_MODAL","SHOW_HARVEST_MODAL","HIDE_HARVEST_MODAL","SIGN_UP_SUCCESS","SIGN_UP_ERROR","RESET_AUTH_ERROR","SIGN_OUT_SUCCESS","SIGN_OUT_ERROR","PROFILE_COMPLETE_SUCCESS","PROFILE_COMPLETE_ERROR","SEND_MESSAGE_SUCCESS","SEND_MESSAGE_ERROR","ADD_HARVEST_SUCCESS","ADD_HARVEST_ERROR","RATE_HARVEST_SUCCESS","RATE_HARVEST_ERROR","EDIT_HARVEST_SUCCESS","EDIT_HARVEST_ERROR","DELETE_HARVEST_SUCCESS","DELETE_HARVEST_ERROR","initState","authError","authModalVisible","harvestModalVisible","auth","state","action","msg","err","message","type","toast","error","window","location","reload","success","rootReducer","combineReducers","authReducer","firestoreReducer","firebaseReducer","ToggleSwitch","props","useState","initialValue","checked","setChecked","className","label","onClick","c","setValue","CategoryChip","name","color","IconHomeOutline","strokeWidth","colorClass","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","d","IconChatOutline","IconSettingsOutline","IconGlobeOutline","IconMapPinOutline","IconStarOutline","IconStarFill","IconInfoOutline","IconSpinner","cx","cy","r","IconNavProfile","IconSearch","connect","data","searchTerm","categories","setCategories","subCategories","setSubCategories","useEffect","getCategories","subcategories","getSubCategories","a","items","i","length","get","cat","push","id","documentId","to","style","backgroundImage","images","map","category","styles","bgColor","highlightClassName","searchWords","autoEscape","textToHighlight","title","isEmpty","address","street","city","province","Array","rating","e","moment","created_at","toDate","fromNow","signInWithGoogleAction","dispatch","getState","getFirebase","provider","GoogleAuthProvider","signInWithPopup","res","showAuthModal","hideAuthModal","showHarvestModal","resetAuthError","sevenDaysFromToday","subtract","SearchChip","active","compose","harvests","ordered","firestoreConnect","collection","where","orderBy","loading","setLoading","results","setResults","filteredResults","setFilteredResults","filterCategory","setFilterCategory","setSearchTerm","showMap","setShowMap","selectedResult","setSelectedResult","setMap","isLoaded","trail","useTrail","from","marginLeft","opacity","displayMap","useMemo","MapContainer","center","latitude","longitude","zoom","scrollWheelZoom","whenCreated","height","TileLayer","attribution","url","result","icon","L","Icon","iconUrl","vegetableIcon","fruitIcon","grainsIcon","otherIcon","mapIconType","shadowUrl","iconSize","iconAnchor","tooltipAnchor","popupAnchor","shadowSize","Marker","position","substring","Popup","clearFilter","autoComplete","placeholder","onChange","term","trim","_results","toLowerCase","indexOf","filterResults","target","value","find","filterResultsByCategory","v","index","div","onMouseEnter","setView","DepartmentP","profile","this","console","log","src","alt","photo","firstName","lastName","disabled","phone","nic","Component","ProfilePage","NavTooltip","children","tooltipText","tipRef","React","createRef","current","onMouseLeave","left","top","ref","transform","ProfileNav","signOut","history","useHistory","signedIn","showTip","setShowTip","handleIconClick","SideNavItem","rest","activeClassName","path","pathname","p","isActive","users","navActiveClass","navInActiveClass","role","Tooltip","FormInput","labelText","required","validationError","autoFocus","minLength","maxLength","defaultValue","htmlFor","FormInputPassword","setType","LogoLong","SignInWithGoogleButton","signIn","signInWithEmailAndPassword","email","password","signInAction","signInWithGoogle","setEmail","setPassword","setPage","onSubmit","preventDefault","signUp","createUserWithEmailAndPassword","localStorage","setItem","uid","signUpAction","setFirstName","setLastName","setNic","setPhone","search","alert","AuthContainer","page","authFormTransitions","useTransition","enter","leave","item","key","LoadingContainer","authLoaded","profileLoaded","completeProfile","getFirestore","userId","storageRef","storage","photoRef","child","put","getDownloadURL","photoUrl","doc","set","profileCompleted","completeProfileAction","preview","raw","image","setImage","getItem","inputError","setInputError","handleFileChange","files","Promise","resolve","reader","FileReader","readAsDataURL","onload","validateInput","check","_inputError","backdropFilter","width","validation","hidden","accept","user","storeAs","body","messages","sendMessage","harvestId","add","Date","sentByOwner","subcollections","newMsg","setNewMsg","rows","match","params","harvest","selected_harvest","setRating","update","updateRating","edit","editHarvest","addNewImage","timeStamp","now","FieldValue","arrayUnion","addImage","removeImageByUrl","imageUrl","arrayRemove","removeImage","remove","delete","deleteHarvest","selectedPicture","setSelectedPicture","canEdit","setCanEdit","editing","setEditing","setTitle","description","setDescription","uploading","setUploading","farmer","rateStarOnClick","ratingBy","handleFilesChange","confirm","rel","href","added_last_7_days","wasted_harvest","datasets","backgroundColor","labels","setData","borderColor","borderWidth","data2","Jaffna","Kilinochchi","Mannar","Mullaitivu","Vavuniya","Puttalam","Kurunegala","Gampaha","Colombo","Kalutara","Anuradhapura","Polonnaruwa","Matale","Kandy","Nuwara_Eliya","Kegalle","Ratnapura","Trincomalee","Batticaloa","Ampara","Badulla","Monaragala","Hambantota","Matara","Galle","districtValues","setDistrictValues","created","setCreated","list","x","l","generateDistrictWiseDate","options","maintainAspectRatio","FormInputControlled","provinces","districts","Northern","North_Western","Western","North_Central","Central","Sabaragamuwa","Eastern","Uva","Southern","districtsLocations","hideHarvestModal","addHarvest","photoRefs","photoUrls","selectedDistrict","selectedProvince","categoryId","GeoPoint","iconType","setSelectedProvince","setSelectedDistrict","setLatitude","setLongitude","setStreet","setCategoryId","setIconType","setFiles","selected","multiple","setRole","loaded","useContext","__RouterContext","routeTransitions","loadingProps","useSpring","overflow","zIndex","authModalTransitions","harvestModalTransitions","toastClassName","undefined","component","HomePage","exact","HarvestPageContainer","GraphPageContainer","SettingsContainer","store","createStore","applyMiddleware","thunk","withExtraArgument","reduxFirestore","firebaseConfig","rrfProps","config","userProfile","useFirestoreForProfile","enableRedirectHandling","resetBeforeLogin","enableClaims","createFirestoreInstance","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.8f99e901.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDtBGY3rAXmI26cvv2UhEcgEoATlj1hxO8\",\r\n    authDomain: \"sell-harvest.firebaseapp.com\",\r\n    projectId: \"sell-harvest\",\r\n    storageBucket: \"sell-harvest.appspot.com\",\r\n    messagingSenderId: \"815309864182\",\r\n    appId: \"1:815309864182:web:a058b6f323b0eeb7b140d7\"\r\n  };\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nfirebase.firestore().settings({});\r\n\r\nexport default firebase;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","let actionTypes = {\r\n  LOGIN_SUCCESS: \"AUTH_LOGIN_SUCCESS\",\r\n  LOGIN_ERROR: \"AUTH_LOGIN_ERROR\",\r\n  GOOGLE_LOGIN_SUCCESS: \"AUTH_GOOGLE_LOGIN_ERROR\",\r\n  GOOGLE_LOGIN_ERROR: \"AUTH_GOOGLE_LOGIN_ERROR\",\r\n  SHOW_AUTH_MODAL: \"SHOW_AUTH_MODAL\",\r\n  HIDE_AUTH_MODAL: \"HIDE_AUTH_MODAL\",\r\n  SHOW_HARVEST_MODAL: \"SHOW_HARVEST_MODAL\",\r\n  HIDE_HARVEST_MODAL: \"HIDE_HARVEST_MODAL\",\r\n  SIGN_UP_SUCCESS: \"SIGN_UP_SUCCESS\",\r\n  SIGN_UP_ERROR: \"SIGN_UP_ERROR\",\r\n  RESET_AUTH_ERROR: \"RESET_AUTH_ERROR\",\r\n  SIGN_OUT_SUCCESS: \"SIGN_OUT_SUCCESS\",\r\n  SIGN_OUT_ERROR: \"SIGN_OUT_ERROR\",\r\n  PROFILE_COMPLETE_SUCCESS: \"PROFILE_COMPLETE_SUCCESS\",\r\n  PROFILE_COMPLETE_ERROR: \"PROFILE_COMPLETE_ERROR\",\r\n  SEND_MESSAGE_SUCCESS: \"SEND_MESSAGE_SUCCESS\",\r\n  SEND_MESSAGE_ERROR: \"SEND_MESSAGE_ERROR\",\r\n  ADD_HARVEST_SUCCESS: \"ADD_HARVEST_SUCCESS\",\r\n  ADD_HARVEST_ERROR: \"ADD_HARVEST_ERROR\",\r\n  RATE_HARVEST_SUCCESS: \"RATE_HARVEST_SUCCESS\",\r\n  RATE_HARVEST_ERROR: \"RATE_HARVEST_ERROR\",\r\n  EDIT_HARVEST_SUCCESS: \"EDIT_HARVEST_SUCCESS\",\r\n  EDIT_HARVEST_ERROR: \"EDIT_HARVEST_ERROR\",\r\n  DELETE_HARVEST_SUCCESS: \"DELETE_HARVEST_SUCCESS\",\r\n  DELETE_HARVEST_ERROR: \"DELETE_HARVEST_ERROR\",\r\n};\r\nexport default actionTypes;\r\n","import { toast } from \"react-toastify\";\r\nimport actionTypes from \"../actionTypes\";\r\n\r\nconst initState = {\r\n  authError: null,\r\n  authModalVisible: false,\r\n  harvestModalVisible: false,\r\n};\r\n\r\nconst auth = (state = initState, action) => {\r\n  // console.log(action);\r\n  let msg = action?.err?.message ?? \"There was an error!\";\r\n  switch (action.type) {\r\n    case actionTypes.LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        authError: null,\r\n        authModalVisible: false,\r\n      };\r\n    case actionTypes.LOGIN_ERROR:\r\n      toast.error(msg);\r\n      return {\r\n        ...state,\r\n        authError: msg,\r\n      };\r\n    case actionTypes.SIGN_UP_SUCCESS:\r\n      window.location.reload();\r\n      return {\r\n        ...state,\r\n        authError: null,\r\n        authModalVisible: false,\r\n      };\r\n    case actionTypes.SIGN_UP_ERROR:\r\n      toast.error(msg);\r\n      return {\r\n        ...state,\r\n        authError: msg,\r\n      };\r\n    case actionTypes.SIGN_OUT_SUCCESS:\r\n      toast.success(\"Signed out successfully\");\r\n      return {\r\n        ...state,\r\n        authError: null,\r\n        authModalVisible: false,\r\n      };\r\n    case actionTypes.SIGN_OUT_ERROR:\r\n      toast.error(msg);\r\n      return {\r\n        ...state,\r\n        authError: null,\r\n      };\r\n    case actionTypes.GOOGLE_LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        authError: null,\r\n        authModalVisible: false,\r\n      };\r\n    case actionTypes.GOOGLE_LOGIN_ERROR:\r\n      toast.error(msg);\r\n      return {\r\n        ...state,\r\n        authError: null,\r\n      };\r\n    case actionTypes.SHOW_AUTH_MODAL:\r\n      return {\r\n        ...state,\r\n        authError: null,\r\n        authModalVisible: true,\r\n      };\r\n    case actionTypes.HIDE_AUTH_MODAL:\r\n      return {\r\n        ...state,\r\n        authError: null,\r\n        authModalVisible: false,\r\n      };\r\n    case actionTypes.SHOW_HARVEST_MODAL:\r\n      return {\r\n        ...state,\r\n        harvestModalVisible: true,\r\n      };\r\n    case actionTypes.HIDE_HARVEST_MODAL:\r\n      return {\r\n        ...state,\r\n        harvestModalVisible: false,\r\n      };\r\n    case actionTypes.RESET_AUTH_ERROR:\r\n      return {\r\n        ...state,\r\n        authError: null,\r\n      };\r\n    case actionTypes.PROFILE_COMPLETE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        authError: null,\r\n      };\r\n    case actionTypes.PROFILE_COMPLETE_ERROR:\r\n      return {\r\n        ...state,\r\n        authError: null,\r\n      };\r\n    case actionTypes.ADD_HARVEST_SUCCESS:\r\n      return {\r\n        ...state,\r\n        harvestModalVisible: false,\r\n      };\r\n    case actionTypes.ADD_HARVEST_ERROR:\r\n      toast.error(msg);\r\n      return {\r\n        ...state,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default auth;\r\n","import { combineReducers } from \"redux\";\r\nimport { firestoreReducer } from \"redux-firestore\";\r\nimport { firebaseReducer } from \"react-redux-firebase\";\r\nimport authReducer from \"./auth/authReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n  firestore: firestoreReducer,\r\n  firebase: firebaseReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import React, { useState } from \"react\";\r\n\r\nconst ToggleSwitch = (props) => {\r\n  const [checked, setChecked] = useState(props.initialValue);\r\n  return (\r\n    <div className=\"flex flex-row content-center\">\r\n      <p className=\"block text-sm pr-1 font-bold text-gray-600\">{`${props.label}`}</p>\r\n      <div\r\n        className={`w-10 h-6 flex rounded-lg p-1 cursor-pointer ease-out duration-200  ${\r\n          checked ? \"bg-green-600\" : \"bg-gray-300\"\r\n        }`}\r\n        onClick={() => {\r\n          let c = !checked;\r\n          setChecked(c);\r\n          props.setValue(c);\r\n        }}\r\n      >\r\n        <div\r\n          className={`bg-white w-4 h-4 rounded-md shadow-md transform transition-all ease-out duration-200 ${\r\n            checked ? \"translate-x-4\" : \"\"\r\n          }`}\r\n        ></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ToggleSwitch;\r\n","import React from \"react\";\r\n\r\nconst CategoryChip = ({ name, color, onClick }) => (\r\n  <div\r\n    onClick={onClick}\r\n    className={`${color} text-white font-lato px-2 py-1 text-2xs uppercase rounded-lg my-auto`}\r\n  >\r\n    {name}\r\n  </div>\r\n);\r\n\r\nexport default CategoryChip","import React from \"react\";\r\n\r\nexport const IconHomeOutline = ({ strokeWidth, colorClass }) => (\r\n  <svg\r\n    className={`stroke-current ${colorClass} w-6 m-auto`}\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={strokeWidth}\r\n      d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport const IconUserOutline = ({ strokeWidth, colorClass }) => (\r\n  <svg\r\n    className={`stroke-current ${colorClass} w-6 m-auto`}\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={strokeWidth}\r\n      d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport const IconUserCircleOutline = ({ strokeWidth, colorClass }) => (\r\n  <svg\r\n    className={`stroke-current ${colorClass} w-6 m-auto`}\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={strokeWidth}\r\n      d=\"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport const IconChatOutline = ({ strokeWidth, colorClass }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    className={`stroke-current ${colorClass} w-6 m-auto`}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={strokeWidth}\r\n      d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport const IconSettingsOutline = ({ strokeWidth, colorClass }) => (\r\n  <svg\r\n    className={`stroke-current ${colorClass} w-6 m-auto`}\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={strokeWidth}\r\n      d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"\r\n    />\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={strokeWidth}\r\n      d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport const IconGlobeOutline = ({ strokeWidth, colorClass }) => (\r\n  <svg\r\n    className={`stroke-current ${colorClass} w-6 m-auto`}\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={strokeWidth}\r\n      d=\"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport const IconMapPinOutline = ({ strokeWidth, colorClass }) => (\r\n  <svg\r\n    className={`stroke-current ${colorClass} w-full m-auto`}\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={strokeWidth}\r\n      d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\r\n    />\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={strokeWidth}\r\n      d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport const IconStarOutline = ({ strokeWidth, colorClass }) => (\r\n  <svg\r\n    className={`stroke-current ${colorClass} m-auto`}\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={strokeWidth}\r\n      d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\"\r\n    />\r\n  </svg>\r\n);\r\nexport const IconStarFill = ({ colorClass }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    className={`stroke-current ${colorClass} m-auto`}\r\n    viewBox=\"0 0 20 20\"\r\n    fill=\"currentColor\"\r\n  >\r\n    <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\r\n  </svg>\r\n);\r\n\r\nexport const IconInfoOutline = ({ strokeWidth, colorClass }) => (\r\n  <svg\r\n    className={`stroke-current ${colorClass} m-auto`}\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={strokeWidth}\r\n      d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n    />\r\n  </svg>\r\n);\r\nexport const IconEditOutline = ({ strokeWidth, colorClass }) => (\r\n  <svg\r\n    className={`stroke-current ${colorClass} m-auto`}\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={strokeWidth}\r\n      d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport const IconSpinner = ({ strokeWidth = 5, colorClass }) => (\r\n  <svg\r\n    className={`stroke-current ${colorClass} m-auto spinner`}\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    fill=\"none\"\r\n    viewBox=\"0 0 50 50\"\r\n  >\r\n    <circle\r\n      className=\"path\"\r\n      cx=\"25\"\r\n      cy=\"25\"\r\n      r=\"20\"\r\n      fill=\"none\"\r\n      strokeWidth={strokeWidth}\r\n    ></circle>\r\n  </svg>\r\n);\r\nexport const IconNavProfile = ({ strokeWidth = 5, colorClass }) => (\r\n  <svg\r\n    className=\"text-white\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={2}\r\n      d=\"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport const IconSearch = ({ strokeWidth = 2, colorClass }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={strokeWidth}\r\n      d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\r\n    />\r\n  </svg>\r\n);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport CategoryChip from \"./CategoryChip\";\r\nimport SubCategoryChip from \"./SubCategoryChip\";\r\nimport {\r\n  IconMapPinOutline,\r\n  IconStarFill,\r\n  IconStarOutline,\r\n} from \"../../../common/components/Icons\";\r\nimport { connect } from \"react-redux\";\r\nimport { isEmpty } from \"react-redux-firebase\";\r\nimport moment from \"moment\";\r\nimport Highlighter from \"react-highlight-words\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ResultListItem = ({ data, onClick, auth, searchTerm }) => {\r\n  const [categories, setCategories] = useState([]);\r\n  const [subCategories, setSubCategories] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (data.categories) {\r\n      getCategories(data.categories);\r\n    }\r\n    if (data.subcategories) {\r\n      getSubCategories(data.subcategories);\r\n    }\r\n  }, [data.categories, data.subcategories]);\r\n\r\n  const getCategories = async (categories) => {\r\n    let items = [];\r\n    for (let i = 0; i < categories.length; i++) {\r\n      const cat = await categories[i].get();\r\n      items.push({ ...cat.data(), id: cat.documentId });\r\n    }\r\n    setCategories(items);\r\n  };\r\n\r\n  const getSubCategories = async (subcategories) => {\r\n    let items = [];\r\n    for (let i = 0; i < subcategories.length; i++) {\r\n      const cat = await subcategories[i].get();\r\n      items.push({ ...cat.data(), id: cat.documentId });\r\n    }\r\n    setSubCategories(items);\r\n  };\r\n  return (\r\n    <Link to={`/harvest/${data.id}`}>\r\n      <div className=\"flex bg-gray-50 hover:bg-gray-100 shadow content-center space-x-4 cursor-pointer mb-6 hover:shadow-md rounded-2xl pr-2 transition-all duration-200 ease-out\">\r\n        <div className=\"flex-shrink-0\">\r\n          <div\r\n            className=\" w-40 h-40 rounded-2xl bg-cover\"\r\n            style={{ backgroundImage: `url(\"${data.images[0]}\")` }}\r\n          ></div>\r\n        </div>\r\n        <div className=\"flex-grow flex flex-col space-y-1 py-1\">\r\n          <div className=\"flex-shrink-0\">\r\n            <div className=\"flex\">\r\n              <div className=\"flex-grow flex space-x-1\">\r\n                {categories.map((category) => (\r\n                  <CategoryChip\r\n                    key={`${data.id}_${category.id}`}\r\n                    name={category.name}\r\n                    color={category.styles.bgColor}\r\n                  />\r\n                ))}\r\n                {subCategories.map((category) => (\r\n                  <CategoryChip\r\n                    key={`${data.id}_${category.id}`}\r\n                    name={category.name}\r\n                    color={category.styles.bgColor}\r\n                  />\r\n                ))}\r\n                {categories.length === 0 ? (\r\n                  <CategoryChip\r\n                    key=\"loading\"\r\n                    name=\"Loading ...\"\r\n                    color=\"bg-gray-300 animate-pulse\"\r\n                  />\r\n                ) : null}\r\n              </div>\r\n              <div className=\"flex-shrink-0\">\r\n                <div className=\" m-auto\">\r\n                  {/* <IconStarOutline colorClass={\"w-6\"} strokeWidth={2} /> */}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"text-gray-700 font-bold text-xl font-lato mt-1 mb-1\">\r\n              <Highlighter\r\n                highlightClassName=\"text-gray-900 bg-gray-200 rounded-md\"\r\n                searchWords={[searchTerm]}\r\n                autoEscape={true}\r\n                textToHighlight={data.title}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex text-xs flex-row pb-2 pt-1 text-gray-400\">\r\n              <div className=\"w-4\">\r\n                <IconMapPinOutline strokeWidth={2} />\r\n              </div>\r\n              <div className=\"self-center\">\r\n                <Highlighter\r\n                  highlightClassName=\"text-gray-900 bg-gray-300 rounded\"\r\n                  searchWords={[searchTerm]}\r\n                  autoEscape={true}\r\n                  textToHighlight={`${\r\n                    !isEmpty(auth) ? `${data.address.street}, ` : \"\"\r\n                  } ${data.address.city}, ${data.address.province}`}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex-grow flex justify-between items-end\">\r\n            <div className=\"flex flex-row items-center\">\r\n              {/* {data.rating ? \"⭐\".repeat(data.rating) : \"N/A\"} */}\r\n              {[...Array(data.rating ?? 0)].map((e, i) => (\r\n                <div key={i} className=\"w-6 h-6\">\r\n                  <IconStarFill colorClass=\"text-yellow-500\" />\r\n                </div>\r\n              ))}\r\n              {[...Array(5 - (data.rating ?? 0))].map((e, i) => (\r\n                <div key={i} className=\"w-5 h-5 text-gray-400 cursor-pointer\">\r\n                  <IconStarOutline />\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className=\"text-gray-400\">\r\n              {moment(data.created_at.toDate()).fromNow()}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.firebase.auth,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ResultListItem);\r\n","import actionTypes from \"../actionTypes\";\r\n\r\nexport const signInAction = (data) => {\r\n  return async (dispatch, getState, { getFirebase }) => {\r\n    const firebase = getFirebase();\r\n    try {\r\n      var res = await firebase\r\n        .auth()\r\n        .signInWithEmailAndPassword(data.email, data.password);\r\n      dispatch({ type: actionTypes.LOGIN_SUCCESS, res });\r\n    } catch (err) {\r\n      dispatch({ type: actionTypes.LOGIN_ERROR, err });\r\n    }\r\n  };\r\n};\r\nexport const signInWithGoogleAction = () => {\r\n  return async (dispatch, getState, { getFirebase }) => {\r\n    const firebase = getFirebase();\r\n    var provider = new firebase.auth.GoogleAuthProvider();\r\n    try {\r\n      var res = await firebase.auth().signInWithPopup(provider);\r\n      dispatch({ type: actionTypes.GOOGLE_LOGIN_SUCCESS, res });\r\n    } catch (err) {\r\n      dispatch({ type: actionTypes.GOOGLE_LOGIN_ERROR, err });\r\n    }\r\n  };\r\n};\r\n\r\nexport const showAuthModal = () => {\r\n  return (dispatch) => {\r\n    dispatch({ type: actionTypes.SHOW_AUTH_MODAL });\r\n  };\r\n};\r\nexport const hideAuthModal = () => {\r\n  return (dispatch) => {\r\n    dispatch({ type: actionTypes.HIDE_AUTH_MODAL });\r\n  };\r\n};\r\nexport const showHarvestModal = () => {\r\n  return (dispatch) => {\r\n    dispatch({ type: actionTypes.SHOW_HARVEST_MODAL });\r\n  };\r\n};\r\nexport const hideHarvestModal = () => {\r\n  return (dispatch) => {\r\n    dispatch({ type: actionTypes.HIDE_HARVEST_MODAL });\r\n  };\r\n};\r\nexport const resetAuthError = () => {\r\n  return (dispatch) => {\r\n    dispatch({ type: actionTypes.RESET_AUTH_ERROR });\r\n  };\r\n};\r\n\r\nexport const signOutAction = () => {\r\n  return async (dispatch, getState, { getFirebase }) => {\r\n    const firebase = getFirebase();\r\n    try {\r\n      var res = await firebase.auth().signOut();\r\n      dispatch({ type: actionTypes.SIGN_OUT_SUCCESS, res });\r\n    } catch (err) {\r\n      dispatch({ type: actionTypes.SIGN_OUT_ERROR, err });\r\n    }\r\n  };\r\n};\r\nexport const signUpAction = (data) => {\r\n  return async (dispatch, getState, { getFirebase }) => {\r\n    const firebase = getFirebase();\r\n    try {\r\n      var res = await firebase\r\n        .auth()\r\n        .createUserWithEmailAndPassword(data.email, data.password);\r\n      // await res.updateProfile({\r\n      //   displayName: `${data.firstName} ${data.lastName}`,\r\n      // });\r\n      localStorage.setItem(\"firstName\", data.firstName);\r\n      localStorage.setItem(\"lastName\", data.lastName);\r\n      localStorage.setItem(\"nic\", data.nic);\r\n      localStorage.setItem(\"phone\", data.phone);\r\n      localStorage.setItem(\"email\", data.email);\r\n      localStorage.setItem(\"uid\", res.uid);\r\n      dispatch({ type: actionTypes.SIGN_UP_SUCCESS, res });\r\n    } catch (err) {\r\n      dispatch({ type: actionTypes.SIGN_UP_ERROR, err });\r\n    }\r\n  };\r\n};\r\n\r\nexport const completeProfileAction = (data) => {\r\n  return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const firebase = getFirebase();\r\n    const firestore = getFirestore();\r\n    let state = getState();\r\n    let userId = state?.firebase?.auth?.uid;\r\n    var storageRef = firebase.storage().ref();\r\n    var photoRef = storageRef.child(`/users/${userId}/profilePicture.png`);\r\n    await photoRef.put(data.photo);\r\n    let photoUrl = await photoRef.getDownloadURL();\r\n    try {\r\n      await firestore.collection(\"users\").doc(userId).set({\r\n        firstName: data.firstName,\r\n        lastName: data.lastName,\r\n        nic: data.nic,\r\n        phone: data.phone,\r\n        photo: photoUrl,\r\n        profileCompleted: true,\r\n      });\r\n\r\n      dispatch({ type: actionTypes.PROFILE_COMPLETE_SUCCESS, res: \"\" });\r\n    } catch (err) {\r\n      dispatch({ type: actionTypes.PROFILE_COMPLETE_ERROR, err });\r\n    }\r\n  };\r\n};\r\n\r\nexport const sendMessage = (data) => {\r\n  return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const firebase = getFirebase();\r\n    const firestore = getFirestore();\r\n    let state = getState();\r\n    let userId = state?.firebase?.auth?.uid;\r\n\r\n    try {\r\n      await firestore\r\n        .collection(\"harvests\")\r\n        .doc(data.harvestId)\r\n        .collection(\"messages\")\r\n        .add({\r\n          body: data.body,\r\n          created_at: new Date(),\r\n          sentByOwner: data.sentByOwner,\r\n          user: firestore.doc(\"/users/\" + userId),\r\n        });\r\n\r\n      dispatch({ type: actionTypes.SEND_MESSAGE_SUCCESS, res: \"\" });\r\n    } catch (err) {\r\n      dispatch({ type: actionTypes.SEND_MESSAGE_ERROR, err });\r\n    }\r\n  };\r\n};\r\nexport const updateRating = (data) => {\r\n  return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const firebase = getFirebase();\r\n    const firestore = getFirestore();\r\n    let state = getState();\r\n    let userId = state?.firebase?.auth?.uid;\r\n\r\n    try {\r\n      await firestore.collection(\"harvests\").doc(data.harvestId).update({\r\n        rating: data.rating,\r\n      });\r\n\r\n      dispatch({ type: actionTypes.RATE_HARVEST_SUCCESS, res: \"\" });\r\n    } catch (err) {\r\n      dispatch({ type: actionTypes.RATE_HARVEST_ERROR, err });\r\n    }\r\n  };\r\n};\r\nexport const editHarvest = ({ key, value, harvestId }) => {\r\n  return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const firebase = getFirebase();\r\n    const firestore = getFirestore();\r\n    let state = getState();\r\n    let userId = state?.firebase?.auth?.uid;\r\n\r\n    try {\r\n      await firestore\r\n        .collection(\"harvests\")\r\n        .doc(harvestId)\r\n        .update({\r\n          [key]: value,\r\n        });\r\n\r\n      dispatch({ type: actionTypes.RATE_HARVEST_SUCCESS, res: \"\" });\r\n    } catch (err) {\r\n      dispatch({ type: actionTypes.RATE_HARVEST_ERROR, err });\r\n    }\r\n  };\r\n};\r\nexport const setRole = ({ value, userId }) => {\r\n  return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const firebase = getFirebase();\r\n    const firestore = getFirestore();\r\n    let state = getState();\r\n\r\n    try {\r\n      await firestore.collection(\"users\").doc(userId).update({\r\n        role: value,\r\n      });\r\n\r\n      dispatch({ type: actionTypes.RATE_HARVEST_SUCCESS, res: \"\" });\r\n    } catch (err) {\r\n      dispatch({ type: actionTypes.RATE_HARVEST_ERROR, err });\r\n    }\r\n  };\r\n};\r\nexport const addImage = ({ image, harvestId }) => {\r\n  return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const firebase = getFirebase();\r\n    const firestore = getFirestore();\r\n    let state = getState();\r\n    let userId = state?.firebase?.auth?.uid;\r\n    const timeStamp = Date.now();\r\n    try {\r\n      var storageRef = firebase.storage().ref();\r\n      var photoRef = storageRef.child(\r\n        `/users/${timeStamp}/harvest_${harvestId}.png`\r\n      );\r\n      await photoRef.put(image);\r\n      let photoUrl = await photoRef.getDownloadURL();\r\n\r\n      await firestore\r\n        .collection(\"harvests\")\r\n        .doc(harvestId)\r\n        .update({\r\n          images: firestore.FieldValue.arrayUnion(photoUrl),\r\n        });\r\n\r\n      dispatch({ type: actionTypes.EDIT_HARVEST_SUCCESS, res: \"\" });\r\n    } catch (err) {\r\n      console.log(err);\r\n      dispatch({ type: actionTypes.EDIT_HARVEST_ERROR, err });\r\n    }\r\n  };\r\n};\r\nexport const removeImage = ({ imageUrl, harvestId }) => {\r\n  return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const firestore = getFirestore();\r\n    try {\r\n      await firestore\r\n        .collection(\"harvests\")\r\n        .doc(harvestId)\r\n        .update({\r\n          images: firestore.FieldValue.arrayRemove(imageUrl),\r\n        });\r\n\r\n      dispatch({ type: actionTypes.EDIT_HARVEST_SUCCESS, res: \"\" });\r\n    } catch (err) {\r\n      console.log(err);\r\n      dispatch({ type: actionTypes.EDIT_HARVEST_ERROR, err });\r\n    }\r\n  };\r\n};\r\nexport const deleteHarvest = ({ harvestId }) => {\r\n  return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const firestore = getFirestore();\r\n    try {\r\n      await firestore.collection(\"harvests\").doc(harvestId).delete();\r\n\r\n      dispatch({ type: actionTypes.DELETE_HARVEST_SUCCESS, res: \"\" });\r\n    } catch (err) {\r\n      console.log(err);\r\n      dispatch({ type: actionTypes.DELETE_HARVEST_ERROR, err });\r\n    }\r\n  };\r\n};\r\n\r\nexport const addHarvest = (data) => {\r\n  return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    const firebase = getFirebase();\r\n    const firestore = getFirestore();\r\n    let state = getState();\r\n    const timeStamp = Date.now();\r\n\r\n    let userId = state?.firebase?.auth?.uid;\r\n    var photoRefs = [];\r\n    var photoUrls = [];\r\n\r\n    var storageRef = firebase.storage().ref();\r\n\r\n    for (let i = 0; i < data.files.length; i++) {\r\n      photoRefs.push(storageRef.child(`/users/${timeStamp}/harvest_${i}.png`));\r\n    }\r\n    for (let i = 0; i < data.files.length; i++) {\r\n      await photoRefs[i].put(data.files[i]);\r\n    }\r\n    for (let i = 0; i < data.files.length; i++) {\r\n      let url = await photoRefs[i].getDownloadURL();\r\n      photoUrls.push(url);\r\n    }\r\n\r\n    try {\r\n      await firestore.collection(\"harvests\").add({\r\n        address: {\r\n          city: data.selectedDistrict,\r\n          province: data.selectedProvince,\r\n          street: data.street,\r\n        },\r\n        categories: [firestore.doc(\"/categories/\" + data.categoryId)],\r\n        created_at: new Date(),\r\n        description: data.description,\r\n        farmer: firestore.doc(\"/users/\" + userId),\r\n        images: photoUrls,\r\n        location: new firestore.GeoPoint(data.latitude, data.longitude),\r\n        mapIconType: data.iconType,\r\n        title: data.title,\r\n      });\r\n\r\n      dispatch({ type: actionTypes.ADD_HARVEST_SUCCESS, res: \"\" });\r\n    } catch (err) {\r\n      console.log(err);\r\n      dispatch({ type: actionTypes.ADD_HARVEST_ERROR, err });\r\n    }\r\n  };\r\n};\r\n","import moment from \"moment\";\r\nimport React, { Component, useEffect, useMemo, useState } from \"react\";\r\nimport L from \"leaflet\";\r\nimport { MapContainer, TileLayer, Marker, Tooltip, Popup } from \"react-leaflet\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect, isEmpty, isLoaded } from \"react-redux-firebase\";\r\nimport { animated, useTrail } from \"react-spring\";\r\nimport { compose } from \"redux\";\r\nimport ToggleSwitch from \"../../common/components/ToggleSwitch\";\r\nimport ResultListItem from \"./component/ResultListItem\";\r\nimport { IconSearch, IconSpinner } from \"../../common/components/Icons\";\r\nimport { showHarvestModal } from \"../../state/auth/authActions\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst sevenDaysFromToday = moment().subtract(7, \"days\").toDate();\r\n\r\nconst HomePage = (props) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [results, setResults] = useState([]);\r\n  const [filteredResults, setFilteredResults] = useState([]);\r\n  const [filterCategory, setFilterCategory] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState(null);\r\n  const [showMap, setShowMap] = useState(true);\r\n  const [selectedResult, setSelectedResult] = useState(null);\r\n  const [categories, setCategories] = useState([]);\r\n  const [map, setMap] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (isLoaded(props.harvests, props.categories)) {\r\n      setCategories(props.categories);\r\n      setLoading(false);\r\n    }\r\n    if (!loading && !searchTerm && !filterCategory) {\r\n      setFilteredResults(props.harvests);\r\n      setResults(props.harvests);\r\n    }\r\n  }, [filterCategory, loading, props, searchTerm]);\r\n\r\n  const trail = useTrail(filteredResults.length, {\r\n    from: { marginLeft: 0, opacity: 0 },\r\n    to: { marginLeft: 0, opacity: 1 },\r\n  });\r\n\r\n  const displayMap = useMemo(\r\n    () => (\r\n      <MapContainer\r\n        center={\r\n          selectedResult\r\n            ? [\r\n                selectedResult?.location?.latitude,\r\n                selectedResult?.location?.longitude,\r\n              ]\r\n            : [7.8731, 80.7718]\r\n        }\r\n        zoom={9}\r\n        scrollWheelZoom={true}\r\n        whenCreated={setMap}\r\n        style={{ height: \"100vh\" }}\r\n      >\r\n        <TileLayer\r\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          url=\"https://a.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n        {filteredResults.map((result) => {\r\n          const iconUrls = {\r\n            vegetableIcon:\r\n              \"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png\",\r\n            fruitIcon:\r\n              \"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-gold.png\",\r\n            grainsIcon:\r\n              \"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-orange.png\",\r\n            otherIcon:\r\n              \"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-black.png\",\r\n          };\r\n          const icon = new L.Icon({\r\n            iconUrl: iconUrls[result.mapIconType],\r\n            shadowUrl:\r\n              \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png\",\r\n            iconSize: [25, 41],\r\n            iconAnchor: [12, 41],\r\n            tooltipAnchor: [10, -30],\r\n            popupAnchor: [0, -30],\r\n            shadowSize: [41, 41],\r\n          });\r\n          return (\r\n            <Marker\r\n              icon={icon}\r\n              position={[\r\n                result?.location?.latitude,\r\n                result?.location?.longitude,\r\n              ]}\r\n              key={result.id}\r\n            >\r\n              <Tooltip>\r\n                <div\r\n                  className=\" w-full h-32 rounded-md bg-cover\"\r\n                  style={{ backgroundImage: `url(\"${result.images[0]}\")` }}\r\n                ></div>\r\n                <div className=\"text-sm font-bold\">{`${result.title.substring(\r\n                  0,\r\n                  16\r\n                )}...`}</div>\r\n                <div className=\"text-xs \">{result.address.city}</div>\r\n                <div className=\"text-gray-400\">\r\n                  {moment(result.created_at.toDate()).fromNow()}\r\n                </div>\r\n              </Tooltip>\r\n              <Popup>\r\n                <div\r\n                  className=\"w-32 h-32 rounded-md bg-cover\"\r\n                  style={{ backgroundImage: `url(\"${result.images[0]}\")` }}\r\n                ></div>\r\n                <div className=\"text-sm font-bold\">{`${result.title.substring(\r\n                  0,\r\n                  16\r\n                )}...`}</div>\r\n                <div className=\"text-xs \">{result.address.city}</div>\r\n                <div className=\"text-gray-400\">\r\n                  {moment(result.created_at.toDate()).fromNow()}\r\n                </div>\r\n                <Link to={`/harvest/${result.id}`}>Read more..</Link>\r\n              </Popup>\r\n            </Marker>\r\n          );\r\n        })}\r\n      </MapContainer>\r\n    ),\r\n    [filteredResults, selectedResult]\r\n  );\r\n\r\n  const filterResults = (term) => {\r\n    term = term.trim();\r\n    let _results = [];\r\n    for (const result of results) {\r\n      if (\r\n        result.title.toLowerCase().indexOf(term.toLowerCase()) !== -1 ||\r\n        result.address.city.toLowerCase().indexOf(term.toLowerCase()) !== -1 ||\r\n        result.address.province.toLowerCase().indexOf(term.toLowerCase()) !==\r\n          -1 ||\r\n        result.address.street.toLowerCase().indexOf(term.toLowerCase()) !== -1\r\n      ) {\r\n        _results.push(result);\r\n      }\r\n    }\r\n    setFilteredResults(_results);\r\n    setSearchTerm(term);\r\n  };\r\n\r\n  const filterResultsByCategory = (category) => {\r\n    let _results = [];\r\n    for (const result of props.harvests) {\r\n      if (result.categories.find((cat) => cat.id === category)) {\r\n        _results.push(result);\r\n      }\r\n    }\r\n    setFilteredResults(_results);\r\n    setResults(_results);\r\n    setFilterCategory(filterCategory === category ? null : category);\r\n  };\r\n\r\n  const clearFilter = () => {\r\n    setResults(props.harvests);\r\n    setFilteredResults(props.harvests);\r\n    setSearchTerm(null);\r\n    setFilterCategory(null);\r\n  };\r\n  if (loading)\r\n    return (\r\n      <div className=\"flex w-full h-full flex-col justify-center items-center\">\r\n        <div className=\"animate-pulse w-10 h-10 text-gray-500 mb-2\">\r\n          <IconSpinner />\r\n        </div>\r\n        <div className=\"text-md font-lato animate-pulse text-gray-900\">\r\n          Loading\r\n        </div>\r\n      </div>\r\n    );\r\n  return (\r\n    <div className=\"flex w-full h-full\">\r\n      <div className=\"flex-1 pl-4 pr-4 h-full overflow-y-auto\">\r\n        <div className=\"py-4\">\r\n          <div className=\"bg-gray-200 flex items-center rounded-2xl shadow-sm\">\r\n            <input\r\n              className=\"rounded-2xl w-full py-2 px-6 font-bold text-gray-500 leading-tight bg-gray-200 focus:outline-none\"\r\n              id=\"search\"\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              placeholder=\"Search\"\r\n              onChange={(e) => filterResults(e.target.value)}\r\n            />\r\n            <div className=\"p-2\">\r\n              {searchTerm ? (\r\n                <button\r\n                  onClick={clearFilter}\r\n                  className=\"text-gray-500 p-1 hover:text-gray-600 focus:outline-none w-8 h-8 ease-out duration-300\"\r\n                >\r\n                  🗙\r\n                </button>\r\n              ) : (\r\n                <button className=\"text-gray-400 p-1 hover:text-gray-600 focus:outline-none w-8 h-8 ease-out duration-300\">\r\n                  <IconSearch />\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex mb-8 items-center\">\r\n          <div className=\"flex-grow flex space-x-1 items-center\">\r\n            {categories.map((category) => (\r\n              <SearchChip\r\n                key={category.id}\r\n                name={category.name}\r\n                active={filterCategory === category.id}\r\n                onClick={() => filterResultsByCategory(category.id)}\r\n              />\r\n            ))}\r\n            {filterCategory ? (\r\n              <button\r\n                onClick={clearFilter}\r\n                className=\"text-xs hover:underline focus:outline-none\"\r\n              >\r\n                Clear filter\r\n              </button>\r\n            ) : null}\r\n          </div>\r\n          <div className=\"flex-shrink-0 flex space-x-1\">\r\n            <ToggleSwitch\r\n              label=\"Show Map\"\r\n              initialValue={showMap}\r\n              setValue={(v) => {\r\n                setShowMap(v);\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n        {searchTerm ? (\r\n          <div className=\"flex content-center mb-8 sticky top-0 bg-gray-50 pb-4 px-2 shadow-sm rounded-b-sm\">\r\n            <div className=\"flex-grow flex space-x-1\">\r\n              <h2 className=\"font-bold text-4xl text-gray-700\">{searchTerm}</h2>\r\n              <h4 className=\"text-xl text-gray-400 self-end pl-2 \">\r\n                {`${filteredResults.length} Result${\r\n                  filteredResults.length !== 1 ? \"s\" : \"\"\r\n                }`}\r\n              </h4>\r\n            </div>\r\n            <div className=\"flex-shrink-0 flex space-x-1\">\r\n              <div className=\"my-auto mx-2 p-2 shadow-sm hover:shadow-md rounded-lg cursor-pointer ease-out duration-300\">\r\n                <div className=\"w-6 h-6 \">\r\n                  <svg\r\n                    className=\"text-gray-600\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4\"\r\n                    />\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n        {!isEmpty(props.auth) ? (\r\n          <div\r\n            onClick={() => props.showHarvestModal()}\r\n            className=\"font-bold text-gray-500 rounded-md hover:shadow-md text-center px-2 py-1 mb-4 border border-opacity-40 bg-gray-100 duration-300 ease-out cursor-pointer\"\r\n          >\r\n            Add New Harvest\r\n          </div>\r\n        ) : null}\r\n        <div className=\"flex flex-col\">\r\n          {trail.map((props, index) => {\r\n            return (\r\n              <animated.div\r\n                key={filteredResults[index].id}\r\n                style={props}\r\n                className=\"box\"\r\n                onMouseEnter={() => {\r\n                  map.setView(\r\n                    [\r\n                      filteredResults[index]?.location?.latitude,\r\n                      filteredResults[index]?.location?.longitude,\r\n                    ],\r\n                    10\r\n                  );\r\n                  setSelectedResult(filteredResults[index]);\r\n                }}\r\n              >\r\n                <ResultListItem\r\n                  data={filteredResults[index]}\r\n                  searchTerm={searchTerm}\r\n                />\r\n              </animated.div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n      {showMap ? (\r\n        <div className=\"ml-3 flex-1 bg-gray-300 rounded-2xl overflow-hidden transform\">\r\n          {displayMap}\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\nconst SearchChip = ({ name, onClick, active = false }) => (\r\n  <div\r\n    onClick={onClick}\r\n    className={`flex select-none justify-center items-center m-1 font-medium \r\n    py-1 px-2 rounded-lg bg-gray-100 ${\r\n      active\r\n        ? \"text-green-700 bg-gray-200\"\r\n        : \"text-gray-400 hover:text-green-600 \"\r\n    } hover:shadow-lg shadow-md ease-out duration-400 cursor-pointer transition-all`}\r\n  >\r\n    <div className=\"text-sm font-bold\">{name}</div>\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    harvests: state.firestore.ordered.harvests ?? [],\r\n    categories: state.firestore.ordered.categories ?? [],\r\n    auth: state.firebase.auth,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    showHarvestModal: () => dispatch(showHarvestModal()),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  firestoreConnect((props) => {\r\n    return [\r\n      {\r\n        collection: \"harvests\",\r\n        where: [[\"created_at\", \">\", sevenDaysFromToday]],\r\n        orderBy: [\"created_at\", \"desc\"],\r\n      },\r\n      {\r\n        collection: \"categories\",\r\n        orderBy: \"score\",\r\n      },\r\n    ];\r\n  })\r\n)(HomePage);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass DepartmentP extends Component {\r\n  render() {\r\n    const { profile } = this.props;\r\n    console.log(profile);\r\n    return (\r\n      <div className=\"w-full relative mt-4 rounded my-24 overflow-hidden\">\r\n        <div className=\"h-64 w-full rounded overflow-hidden relative\">\r\n          <img\r\n            src=\"https://images.unsplash.com/photo-1542223189-67a03fa0f0bd?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1504&q=80\"\r\n            alt=\"\"\r\n            className=\"bg w-full h-full rounded object-cover object-center absolute z-0\"\r\n          />\r\n          <div className=\"flex flex-col justify-center items-center relative h-full bg-black bg-opacity-50 text-white\">\r\n            <img\r\n              alt=\"profile\"\r\n              src={profile.photo}\r\n              className=\"h-24 w-24 object-cover object-center rounded\"\r\n            />\r\n            <h1 className=\"text-2xl font-semibold\">{`${profile.firstName} ${profile.lastName}`}</h1>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-12 bg-white\">\r\n          <div className=\"col-span-12 w-full px-3 py-6 justify-center flex space-x-4 border-b border-solid md:space-x-0 md:space-y-4 md:flex-col md:col-span-2 md:justify-start \">\r\n            <div>\r\n              <h3 className=\"text-xl font-semibold\">Help Links</h3>\r\n              <hr />\r\n            </div>\r\n\r\n            <div className=\"form-item\">\r\n              <label className=\"text-l \">Department of Agriculture</label>\r\n              <input\r\n                type=\"text\"\r\n                value=\"https://departmentofagriculture.com/\"\r\n                className=\"w-full appearance-none text-black text-opacity-50 rounded shadow py-1 px-2 mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200 text-opacity-25 \"\r\n                disabled\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-item\">\r\n              <label className=\"text-l \"> John Keels service </label>\r\n              <input\r\n                type=\"text\"\r\n                value=\"https://jhonKellsholdings.com/\"\r\n                className=\"w-full appearance-none text-black text-opacity-50 rounded shadow py-1 px-2 mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200 text-opacity-25 \"\r\n                disabled\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-item\">\r\n              <label className=\"text-l \">Help</label>\r\n              <input\r\n                type=\"text\"\r\n                value=\"https://zeis.com/\"\r\n                className=\"w-full appearance-none text-black text-opacity-50 rounded shadow py-1 px-2  mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200  \"\r\n                disabled\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-span-12 md:border-solid md:border-l md:border-black md:border-opacity-25 h-full pb-12 md:col-span-10\">\r\n            <div className=\"px-4 pt-4\">\r\n              <form action=\"#\" className=\"flex flex-col space-y-8\">\r\n                <div>\r\n                  <h3 className=\"text-2xl font-semibold\">\r\n                   Profile Information\r\n                  </h3>\r\n                  <hr />\r\n                </div>\r\n\r\n                <div className=\"form-item\">\r\n                  <label className=\"text-xl \">Full Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={`${profile.firstName} ${profile.lastName}`}\r\n                    className=\"w-full appearance-none text-black text-opacity-40 rounded shadow py-1 px-2  mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200\"\r\n                    disabled\r\n                  />\r\n                </div>\r\n                <div className=\"flex flex-col space-y-4 md:space-y-0 md:flex-row md:space-x-4\">\r\n                  <div className=\"form-item w-full\">\r\n                    <label className=\"text-xl \">Phone</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={`${profile.phone}`}\r\n                      className=\"w-full appearance-none text-black text-opacity-40 rounded shadow py-1 px-2  mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200\"\r\n                      disabled\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-item w-full\">\r\n                    <label className=\"text-xl \">NIC</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={`${profile.nic}`}\r\n                      className=\"w-full appearance-none text-black text-opacity-40 rounded shadow py-1 px-2 mr-2 focus:outliine-none focus:shadow-outline focus:border-blue-200 text-opacity-25\"\r\n                      disabled\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.firebase.profile,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DepartmentP);\r\n","import React from \"react\";\r\n// import Profile from \"./component/Departmentuserprofile/DepartmentUserProfile\";\r\n// import Profilek from \"./component/keelsuserprofile/KeelsUserProfile\";\r\n// import ProfileF from \"./component/Farmeruserprofile/FarmerUserProfile\";\r\n// import Profilen from \"./component/keelsuserprofile/KeelsShowData\";\r\n// import ProfileStructure from \"./component/ProfileStructure\";\r\nimport DepartmentP from \"./component/Departmentuserprofile/DepartmentP\";\r\nconst ProfilePage = () => (\r\n  <div>\r\n    <DepartmentP />\r\n    {/* <Profile />\r\n    <Profilek />\r\n    <ProfileF />\r\n    <Profilen /> */}\r\n  </div>\r\n);\r\n\r\nexport default ProfilePage;\r\n","import React from \"react\";\r\n\r\nconst NavTooltip = ({ children, tooltipText }) => {\r\n  const tipRef = React.createRef(null);\r\n  function handleMouseEnter() {\r\n    tipRef.current.style.opacity = 1;\r\n    // tipRef.current.style.display = \"flex\";\r\n    tipRef.current.style.marginLeft = \"20px\";\r\n  }\r\n  function handleMouseLeave() {\r\n    tipRef.current.style.opacity = 0;\r\n    // tipRef.current.style.display = \"none\";\r\n    tipRef.current.style.marginLeft = \"10px\";\r\n  }\r\n  return (\r\n    <div className=\"relative flex items-center z-20\" onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\r\n      <div\r\n        className=\"absolute whitespace-no-wrap uppercase bg-gray-700 text-sm text-gray-50 shadow-md px-4 py-2 rounded flex items-center transition-all duration-150 \"\r\n        style={{ left: \"100%\", opacity: 0, top:\"-6px\" }}\r\n        ref={tipRef}\r\n        \r\n      >\r\n        <div\r\n          className=\"bg-gray-100 h-3 w-3 absolute shadow-md\"\r\n          style={{ left: \"-6px\", transform: \"rotate(45deg)\" }}\r\n        />\r\n        {tooltipText}\r\n      </div>\r\n      <div  >\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavTooltip;\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { isEmpty } from \"react-redux-firebase\";\r\nimport { Route, Link, useHistory } from \"react-router-dom\";\r\nimport { showAuthModal, signOutAction } from \"../../state/auth/authActions\";\r\nimport {\r\n  IconHomeOutline,\r\n  IconChatOutline,\r\n  IconSettingsOutline,\r\n  IconGlobeOutline,\r\n  IconNavProfile,\r\n} from \"../components/Icons\";\r\nimport NavTooltip from \"../components/NavTooltip\";\r\n\r\nconst SideNav = (props) => {\r\n  const navActiveClass = \"text-green-600\";\r\n  const navInActiveClass =\r\n    \"text-gray-400 hover:text-green-600 ease-out duration-500\";\r\n  return (\r\n    <div className=\"z-10 w-20 bg-gray-200 rounded-r-lg mr-2 px-4 py-6 flex flex-col items-center\">\r\n      <div className=\"flex-grow-0 w-10 h-10 bg-green-700 rounded mb-6 shadow-md hover:shadow-lg ease-out duration-300\">\r\n        <svg\r\n          className=\"text-white\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          fill=\"none\"\r\n          viewBox=\"0 0 24 24\"\r\n          stroke=\"currentColor\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth={2}\r\n            d=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\"\r\n          />\r\n        </svg>\r\n      </div>\r\n      <nav className=\"my-10 flex-grow\">\r\n        <ul>\r\n          <NavTooltip tooltipText=\"Home\">\r\n            <SideNavItem to=\"/\">\r\n              {(isActive) => (\r\n                <div className=\"flex content-center\">\r\n                  <IconHomeOutline\r\n                    strokeWidth={2}\r\n                    colorClass={isActive ? navActiveClass : navInActiveClass}\r\n                  />\r\n                  <div\r\n                    className={`w-1 h-1 rounded-sm ${\r\n                      isActive ? \"bg-green-600\" : \"\"\r\n                    } self-center`}\r\n                  ></div>\r\n                </div>\r\n              )}\r\n            </SideNavItem>\r\n          </NavTooltip>\r\n          <NavTooltip tooltipText=\"Graphs\">\r\n            <SideNavItem to=\"/graphs\">\r\n              {(isActive) => (\r\n                <div className=\"flex content-center\">\r\n                  <IconChatOutline\r\n                    strokeWidth={2}\r\n                    colorClass={isActive ? navActiveClass : navInActiveClass}\r\n                  />\r\n                  <div\r\n                    className={`w-1 h-1 rounded-sm ${\r\n                      isActive ? \"bg-green-600\" : \"\"\r\n                    } self-center`}\r\n                  ></div>\r\n                </div>\r\n              )}\r\n            </SideNavItem>\r\n          </NavTooltip>\r\n        </ul>\r\n        {props.profile?.role === \"ADMIN\" ? (\r\n          <ul>\r\n            <NavTooltip tooltipText=\"Settings\">\r\n              <SideNavItem to=\"/settings\">\r\n                {(isActive) => (\r\n                  <div className=\"flex content-center\">\r\n                    <IconSettingsOutline\r\n                      strokeWidth={2}\r\n                      colorClass={isActive ? navActiveClass : navInActiveClass}\r\n                    />\r\n                    <div\r\n                      className={`w-1 h-1 rounded-sm ${\r\n                        isActive ? \"bg-green-600\" : \"\"\r\n                      } self-center`}\r\n                    ></div>\r\n                  </div>\r\n                )}\r\n              </SideNavItem>\r\n            </NavTooltip>\r\n          </ul>\r\n        ) : null}\r\n      </nav>\r\n\r\n      <ProfileNav {...props} />\r\n\r\n      <div className=\"flex-grow-0 \">\r\n        <IconGlobeOutline strokeWidth={2} colorClass=\"text-gray-400\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ProfileNav = ({ auth, profile, showAuthModal, signOut }) => {\r\n  const history = useHistory();\r\n  const signedIn = !isEmpty(auth);\r\n  const [showTip, setShowTip] = useState(true);\r\n\r\n  const handleIconClick = () => {\r\n    if (signedIn) {\r\n      history.push(\"/profile\");\r\n    } else {\r\n      showAuthModal();\r\n    }\r\n    setShowTip(false);\r\n  };\r\n\r\n  const handleSignOut = () => {\r\n    signOut();\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative flex-grow-0 flex flex-col items-center mb-6 \">\r\n      {showTip && !signedIn ? (\r\n        <div\r\n          className=\"absolute w-48 whitespace-no-wrap bg-gray-700 text-white text-sm px-4 py-2 rounded-xl flex items-center transition-all duration-150 \"\r\n          style={{ left: \"3.5rem\" }}\r\n        >\r\n          <button\r\n            onClick={() => setShowTip(false)}\r\n            className=\"absolute bg-gray-500 w-6 h-6 right-1 rounded-lg flex items-center hover:shadow-md justify-center transition-all ease-out duration-400 focus:outline-none\"\r\n          >\r\n            🗙\r\n          </button>\r\n          <div\r\n            className=\"bg-gray-700 h-3 w-3 absolute\"\r\n            style={{ left: \"-6px\", transform: \"rotate(45deg)\" }}\r\n          />\r\n          <div>\r\n            <button\r\n              onClick={handleIconClick}\r\n              className=\"underline animate-pulse hover:text-gray-300 outline-none ease-out duration-150\"\r\n            >\r\n              Sign in\r\n            </button>{\" \"}\r\n            to get started\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n\r\n      <button\r\n        onClick={handleIconClick}\r\n        className=\"w-10 h-10 overflow-hidden focus:outline-none bg-gray-600 rounded-full shadow-md hover:shadow-lg ease-out duration-300\"\r\n      >\r\n        {signedIn ? (\r\n          <img src={profile.photo} alt=\"\" className=\"min-h-full w-max\" />\r\n        ) : (\r\n          <IconNavProfile />\r\n        )}\r\n      </button>\r\n      {signedIn ? (\r\n        <button\r\n          onClick={handleSignOut}\r\n          className=\"focus:outline-none text-xs py-1 mt-1 hover:text-gray-500\"\r\n        >\r\n          Sign out\r\n        </button>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SideNavItem = ({ to, children, className, activeClassName, ...rest }) => {\r\n  const path = typeof to === \"object\" ? to.pathname : to;\r\n  return (\r\n    <li className=\"mb-6\">\r\n      <Route\r\n        path={path}\r\n        children={(p) => {\r\n          const isActive = to === p?.location?.pathname;\r\n          return (\r\n            <Link {...rest} to={to}>\r\n              {typeof children === \"function\" ? children(isActive) : children}\r\n            </Link>\r\n          );\r\n        }}\r\n      />\r\n    </li>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: state.firestore.ordered.users ?? [],\r\n    auth: state.firebase.auth,\r\n    profile: state.firebase.profile,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    showAuthModal: () => dispatch(showAuthModal()),\r\n    signOut: () => dispatch(signOutAction()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SideNav);\r\n","import React from \"react\";\r\n\r\nconst Tooltip = ({ children, tooltipText }) => {\r\n  const tipRef = React.createRef(null);\r\n  function handleMouseEnter() {\r\n    tipRef.current.style.opacity = 1;\r\n    tipRef.current.style.marginLeft = \"20px\";\r\n  }\r\n  function handleMouseLeave() {\r\n    tipRef.current.style.opacity = 0;\r\n    tipRef.current.style.marginLeft = \"10px\";\r\n  }\r\n  return (\r\n    <div className=\"relative flex items-center\">\r\n      <div\r\n        className=\"absolute whitespace-no-wrap bg-gray-700 text-white px-4 py-2 rounded flex items-center transition-all duration-150 w-32\"\r\n        style={{ left: \"100%\", opacity: 0 }}\r\n        ref={tipRef}\r\n      >\r\n        <div\r\n          className=\"bg-gray-700 h-3 w-3 absolute\"\r\n          style={{ left: \"-6px\", transform: \"rotate(45deg)\" }}\r\n        />\r\n        {tooltipText}\r\n      </div>\r\n      <div onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tooltip;\r\n","import React from \"react\";\r\nimport { IconInfoOutline } from \"./Icons\";\r\nimport Tooltip from \"./Tooltip\";\r\n\r\nconst FormInput = ({\r\n  id,\r\n  labelText,\r\n  name,\r\n  type,\r\n  required = false,\r\n  tooltipText,\r\n  onChange,\r\n  validationError = false,\r\n  disabled = false,\r\n  autoFocus = false,\r\n  minLength = 0,\r\n  maxLength = 100,\r\n  defaultValue = \"\",\r\n  placeholder = \"\",\r\n}) => (\r\n  <>\r\n    <div className=\"flex justify-between items-center\">\r\n      <label\r\n        className=\"block text-gray-600 text-sm font-medium mb-2\"\r\n        htmlFor={id}\r\n      >\r\n        {labelText}\r\n      </label>\r\n      <div className=\"mb-2 text-xs text-gray-500 hover:text-gray-800 focus:outline-none cursor-pointer\">\r\n        {tooltipText ? (\r\n          <Tooltip tooltipText={tooltipText}>\r\n            <div className=\"w-4 h-4\">\r\n              <IconInfoOutline strokeWidth={2} />\r\n            </div>\r\n          </Tooltip>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n    <input\r\n      id={id}\r\n      name={name}\r\n      className={` ${\r\n        validationError\r\n          ? \"ring-red-400 ring-2 border-red-500\"\r\n          : \"focus:border-gray-500 focus:ring-gray-300 focus:ring \"\r\n      } bg-white text-gray-700 border border-gray-300 focus:outline-none rounded-lg py-2 px-4 block w-full transition-all ease-out duration-300`}\r\n      type={type}\r\n      onChange={onChange}\r\n      disabled={disabled}\r\n      autoFocus={autoFocus}\r\n      required={required}\r\n      minLength={minLength}\r\n      maxLength={maxLength}\r\n      defaultValue={defaultValue}\r\n      placeholder={placeholder}\r\n    />\r\n  </>\r\n);\r\nexport default FormInput;\r\n","import React, { useState } from \"react\";\r\n\r\nconst FormInputPassword = ({\r\n  id,\r\n  labelText,\r\n  name,\r\n  required,\r\n  onChange,\r\n  validationError,\r\n  disabled,\r\n  minLength=6\r\n}) => {\r\n  const [type, setType] = useState(\"password\");\r\n  return (\r\n    <>\r\n      <div className=\"flex justify-between items-center\">\r\n        <label\r\n          className=\"block text-gray-600 text-sm font-medium mb-2\"\r\n          htmlFor={id}\r\n        >\r\n          {labelText}\r\n        </label>\r\n        <button\r\n          type=\"button\"\r\n          className=\"text-xs text-gray-500 hover:underline focus:outline-none cursor-pointer\"\r\n          onClick={() =>\r\n            type === \"password\" ? setType(\"text\") : setType(\"password\")\r\n          }\r\n        >\r\n          {type === \"password\" ? \"Show\" : \"Hide\"}&nbsp;password\r\n        </button>\r\n      </div>\r\n\r\n      <input\r\n        id={id}\r\n        name={name}\r\n        className={` ${\r\n          validationError\r\n            ? \"ring-red-400 ring-2 border-red-500\"\r\n            : \"focus:border-gray-500 focus:ring-gray-300 focus:ring \"\r\n        } bg-white text-gray-700 border border-gray-300 focus:outline-none rounded-lg py-2 px-4 block w-full transition-all ease-out duration-300`}\r\n        type={type}\r\n        onChange={onChange}\r\n        disabled={disabled}\r\n        required={required ?? false}\r\n        minLength={minLength}\r\n      />\r\n    </>\r\n  );\r\n};\r\nexport default FormInputPassword;\r\n","import React from \"react\";\r\n\r\nconst LogoLong = () => {\r\n  return (\r\n    <h2 className=\"text-2xl font-black text-gray-700 text-center\">Harvest</h2>\r\n  );\r\n};\r\n\r\nexport default LogoLong;\r\n","import React from \"react\";\r\n\r\nconst SignInWithGoogleButton = ({ onClick }) => {\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      className=\"flex items-center justify-center mt-4 text-white rounded-lg shadow-md hover:bg-gray-100 w-full transition-all ease-out duration-400 focus:outline-none\"\r\n    >\r\n      <div className=\"px-4 py-3 text-center text-gray-600 font-bold w-full\">\r\n        <svg className=\"h-6 w-6 absolute\" viewBox=\"0 0 40 40\">\r\n          <path\r\n            d=\"M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.045 27.2142 24.3525 30 20 30C14.4775 30 10 25.5225 10 20C10 14.4775 14.4775 9.99999 20 9.99999C22.5492 9.99999 24.8683 10.9617 26.6342 12.5325L31.3483 7.81833C28.3717 5.04416 24.39 3.33333 20 3.33333C10.7958 3.33333 3.33335 10.7958 3.33335 20C3.33335 29.2042 10.7958 36.6667 20 36.6667C29.2042 36.6667 36.6667 29.2042 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z\"\r\n            fill=\"#FFC107\"\r\n          />\r\n          <path\r\n            d=\"M5.25497 12.2425L10.7308 16.2583C12.2125 12.59 15.8008 9.99999 20 9.99999C22.5491 9.99999 24.8683 10.9617 26.6341 12.5325L31.3483 7.81833C28.3716 5.04416 24.39 3.33333 20 3.33333C13.5983 3.33333 8.04663 6.94749 5.25497 12.2425Z\"\r\n            fill=\"#FF3D00\"\r\n          />\r\n          <path\r\n            d=\"M20 36.6667C24.305 36.6667 28.2167 35.0192 31.1742 32.34L26.0159 27.975C24.3425 29.2425 22.2625 30 20 30C15.665 30 11.9842 27.2359 10.5975 23.3784L5.16254 27.5659C7.92087 32.9634 13.5225 36.6667 20 36.6667Z\"\r\n            fill=\"#4CAF50\"\r\n          />\r\n          <path\r\n            d=\"M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.7592 25.1975 27.56 26.805 26.0133 27.9758C26.0142 27.975 26.015 27.975 26.0158 27.9742L31.1742 32.3392C30.8092 32.6708 36.6667 28.3333 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z\"\r\n            fill=\"#1976D2\"\r\n          />\r\n        </svg>\r\n        Continue with Google\r\n      </div>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default SignInWithGoogleButton;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport FormInput from \"../../../common/components/FormInput\";\r\nimport FormInputPassword from \"../../../common/components/FormInputPassword\";\r\nimport { IconSpinner } from \"../../../common/components/Icons\";\r\nimport LogoLong from \"../../../common/components/LogoLong\";\r\nimport SignInWithGoogleButton from \"../../../common/components/SignInWithGoogleButton\";\r\nimport {\r\n  hideAuthModal,\r\n  resetAuthError,\r\n  signInAction,\r\n  signInWithGoogleAction,\r\n} from \"../../../state/auth/authActions\";\r\n\r\nconst SignInForm = (props) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const { authError, setPage } = props;\r\n\r\n  useEffect(() => {\r\n    if (authError) {\r\n      setLoading(false);\r\n    }\r\n  }, [authError]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    props.signIn({\r\n      email,\r\n      password,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gray-50 rounded-lg w-96 shadow-lg p-4 z-20\">\r\n      <LogoLong />\r\n      <button\r\n        onClick={() => props.hideAuthModal()}\r\n        className=\"absolute bg-gray-100 w-8 h-8 top-0 right-0 rounded-lg flex items-center hover:shadow-md justify-center transition-all ease-out duration-400 focus:outline-none\"\r\n      >\r\n        🗙\r\n      </button>\r\n      <p className=\"text-xl text-gray-600 text-center\">Welcome back!</p>\r\n      <SignInWithGoogleButton onClick={() => props.signInWithGoogle()} />\r\n      <div className=\"mt-4 flex items-center justify-between\">\r\n        <span className=\"border-b w-1/5 lg:w-1/4\"></span>\r\n\r\n        <span className=\"text-xs text-center text-gray-500 uppercase\">\r\n          or sign in with email\r\n        </span>\r\n\r\n        <span className=\"border-b w-1/5 lg:w-1/4\"></span>\r\n      </div>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"mt-4\">\r\n          <FormInput\r\n            id=\"email\"\r\n            labelText=\"Email Address\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            required={true}\r\n            disabled={loading}\r\n            onChange={(e) => {\r\n              setEmail(e.target.value);\r\n            }}\r\n            validationError={authError ? true : false}\r\n            autoFocus={true}\r\n          />\r\n        </div>\r\n        <div className=\"mt-4\">\r\n          <FormInputPassword\r\n            id=\"password\"\r\n            labelText=\"Password\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            required={true}\r\n            disabled={loading}\r\n            onChange={(e) => {\r\n              setPassword(e.target.value);\r\n            }}\r\n            validationError={authError ? true : false}\r\n          />\r\n        </div>\r\n\r\n        {authError ? (\r\n          <div className=\"text-xs mt-2 text-center p-2 bg-red-400 rounded-lg text-white\">\r\n            {authError}\r\n          </div>\r\n        ) : null}\r\n        <div className=\"mt-6\">\r\n          <button\r\n            disabled={loading}\r\n            type=\"submit\"\r\n            className=\"bg-gray-700 text-white uppercase font-bold py-2 px-4 w-full rounded-lg hover:bg-gray-600 focus:outline-none focus:bg-gray-600 ease-out duration-300\"\r\n          >\r\n            {loading ? (\r\n              <div className=\"w-6 h-6 mx-auto\">\r\n                <IconSpinner colorClass=\"text-gray-300\" />\r\n              </div>\r\n            ) : (\r\n              \"Sign in\"\r\n            )}\r\n          </button>\r\n        </div>\r\n      </form>\r\n\r\n      <div className=\"mt-4 flex items-center justify-between\">\r\n        <span className=\"border-b w-1/5 md:w-1/4\"></span>\r\n\r\n        <button\r\n          onClick={() => {\r\n            props.resetAuthError();\r\n            setPage(\"SignUp\");\r\n          }}\r\n          disabled={loading}\r\n          className=\"text-xs text-gray-500 uppercase hover:underline focus:outline-none\"\r\n        >\r\n          or sign up\r\n        </button>\r\n\r\n        <span className=\"border-b w-1/5 md:w-1/4\"></span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    authError: state.auth.authError,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    signIn: (data) => dispatch(signInAction(data)),\r\n    signInWithGoogle: () => dispatch(signInWithGoogleAction()),\r\n    hideAuthModal: () => dispatch(hideAuthModal()),\r\n    resetAuthError: () => dispatch(resetAuthError()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignInForm);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport FormInput from \"../../../common/components/FormInput\";\r\nimport FormInputPassword from \"../../../common/components/FormInputPassword\";\r\nimport { IconSpinner } from \"../../../common/components/Icons\";\r\nimport LogoLong from \"../../../common/components/LogoLong\";\r\nimport SignInWithGoogleButton from \"../../../common/components/SignInWithGoogleButton\";\r\nimport {\r\n  hideAuthModal,\r\n  resetAuthError,\r\n  signInWithGoogleAction,\r\n  signUpAction,\r\n} from \"../../../state/auth/authActions\";\r\n\r\nconst SignUpForm = (props) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [nic, setNic] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n\r\n  const { authError } = props;\r\n\r\n  useEffect(() => {\r\n    if (authError) {\r\n      setLoading(false);\r\n    }\r\n  }, [authError]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (nic.search(/^([0-9]{9}[x|X|v|V]|[0-9]{12})$/) === -1) {\r\n      alert(\"Check NIC\");\r\n      return;\r\n    }\r\n    if (\r\n      phone.search(\r\n        /^(?:0|94|\\+94)?(?:(11|21|23|24|25|26|27|31|32|33|34|35|36|37|38|41|45|47|51|52|54|55|57|63|65|66|67|81|912)(0|2|3|4|5|7|9)|7(0|1|2|5|6|7|8)\\d)\\d{6}$/\r\n      ) === -1\r\n    ) {\r\n      alert(\"Check Phone Number\");\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    props.signUp({\r\n      firstName,\r\n      lastName,\r\n      nic,\r\n      phone,\r\n      email,\r\n      password,\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"bg-gray-50 rounded-lg w-96 shadow-lg p-4 z-20\">\r\n      <button\r\n        onClick={() => props.hideAuthModal()}\r\n        className=\"absolute bg-gray-100 w-8 h-8 top-0 right-0 rounded-lg flex items-center hover:shadow-md justify-center transition-all ease-out duration-400 focus:outline-none\"\r\n      >\r\n        🗙\r\n      </button>\r\n      <LogoLong />\r\n      <p className=\"text-xl text-gray-600 text-center\">Welcome!</p>\r\n      <SignInWithGoogleButton onClick={() => props.signInWithGoogle()} />\r\n      <div className=\"mt-4 flex items-center justify-between\">\r\n        <span className=\"border-b w-1/5 lg:w-1/4\"></span>\r\n\r\n        <span className=\"text-xs text-center text-gray-500 uppercase\">\r\n          or sign up with email\r\n        </span>\r\n\r\n        <span className=\"border-b w-1/5 lg:w-1/4\"></span>\r\n      </div>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"mt-4 flex space-x-2\">\r\n          <div className=\"w-1/2\">\r\n            <FormInput\r\n              id=\"firstName\"\r\n              labelText=\"First Name\"\r\n              name=\"firstName\"\r\n              type=\"text\"\r\n              required={true}\r\n              disabled={loading}\r\n              onChange={(e) => {\r\n                setFirstName(e.target.value);\r\n              }}\r\n              autoFocus={true}\r\n            />\r\n          </div>\r\n          <div className=\"w-1/2\">\r\n            <FormInput\r\n              id=\"lastName\"\r\n              labelText=\"Last Name\"\r\n              name=\"lastName\"\r\n              type=\"text\"\r\n              required={true}\r\n              disabled={loading}\r\n              onChange={(e) => {\r\n                setLastName(e.target.value);\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"mt-4\">\r\n          <FormInput\r\n            id=\"email\"\r\n            labelText=\"Email Address\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            required={true}\r\n            disabled={loading}\r\n            onChange={(e) => {\r\n              setEmail(e.target.value);\r\n            }}\r\n            validationError={authError ? true : false}\r\n          />\r\n        </div>\r\n        <div className=\"mt-4\">\r\n          <FormInputPassword\r\n            id=\"password\"\r\n            labelText=\"Password\"\r\n            name=\"password\"\r\n            required={true}\r\n            disabled={loading}\r\n            onChange={(e) => {\r\n              setPassword(e.target.value);\r\n            }}\r\n            validationError={authError ? true : false}\r\n          />\r\n        </div>\r\n        <div className=\"mt-4 flex space-x-2\">\r\n          <div className=\"w-1/2\">\r\n            <FormInput\r\n              id=\"nic\"\r\n              labelText=\"NIC Number\"\r\n              name=\"nic\"\r\n              type=\"text\"\r\n              required={true}\r\n              tooltipText=\"NIC will be used to only confirm your identity\"\r\n              onChange={(e) => {\r\n                setNic(e.target.value);\r\n              }}\r\n              minLength={10}\r\n              disabled={loading}\r\n              maxLength={13}\r\n            />\r\n          </div>\r\n          <div className=\"w-1/2\">\r\n            <FormInput\r\n              id=\"phone\"\r\n              labelText=\"Phone\"\r\n              name=\"phone\"\r\n              type=\"text\"\r\n              required={true}\r\n              tooltipText=\"Phone will be shared with keels staff\"\r\n              onChange={(e) => {\r\n                setPhone(e.target.value);\r\n              }}\r\n              minLength={10}\r\n              disabled={loading}\r\n              maxLength={10}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"mt-8\">\r\n          <button\r\n            disabled={loading}\r\n            type=\"submit\"\r\n            className=\"bg-gray-700 text-white uppercase font-bold py-2 px-4 w-full rounded-lg hover:bg-gray-600 focus:outline-none focus:bg-gray-600 ease-out duration-300\"\r\n          >\r\n            {loading ? (\r\n              <div className=\"w-6 h-6 mx-auto\">\r\n                <IconSpinner colorClass=\"text-gray-300\" />\r\n              </div>\r\n            ) : (\r\n              \"Sign Up\"\r\n            )}\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <div className=\"mt-4 flex items-center justify-between\">\r\n        <span className=\"border-b w-1/5 md:w-1/4\"></span>\r\n\r\n        <button\r\n          onClick={() => {\r\n            props.resetAuthError();\r\n            props.setPage(\"SignIn\");\r\n          }}\r\n          className=\"text-xs text-gray-500 uppercase hover:underline focus:outline-none\"\r\n        >\r\n          or sign in\r\n        </button>\r\n\r\n        <span className=\"border-b w-1/5 md:w-1/4\"></span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    authError: state.auth.authError,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    signUp: (data) => dispatch(signUpAction(data)),\r\n    signInWithGoogle: () => dispatch(signInWithGoogleAction()),\r\n    hideAuthModal: () => dispatch(hideAuthModal()),\r\n    resetAuthError: () => dispatch(resetAuthError()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUpForm);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { animated, useTransition } from \"react-spring\";\r\nimport { hideAuthModal } from \"../../state/auth/authActions\";\r\nimport SignInForm from \"./component/SignInComponent\";\r\nimport SignUpForm from \"./component/SignUpComponent\";\r\n\r\n\r\nconst AuthContainer = () => {\r\n  const [page, setPage] = useState(\"SignIn\");\r\n  const authFormTransitions = useTransition(page, null, {\r\n    from: {\r\n      opacity: 0,\r\n      transform: \"translateY(-10%)\",\r\n    },\r\n    enter: {\r\n      opacity: 1,\r\n      transform: \"translateY(0%)\",\r\n    },\r\n    leave: {\r\n      opacity: 0,\r\n      transform: \"translateY(10%)\",\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div className=\"w-screen h-screen absolute z-20 flex flex-col items-center justify-center\">\r\n      {authFormTransitions.map(\r\n        ({ item, key, props: style }) =>\r\n          item && (\r\n            <animated.div\r\n              key={key}\r\n              style={style}\r\n              className=\"z-20 absolute\"\r\n            >\r\n              {item === \"SignIn\" ? <SignInForm setPage={setPage} /> : <SignUpForm setPage={setPage} /> }\r\n            </animated.div>\r\n          )\r\n      )}\r\n      <div\r\n        className=\"w-screen h-screen absolute bg-black opacity-40\"\r\n      ></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthContainer;\r\n","import React from \"react\";\r\nimport { IconSpinner } from \"../../common/components/Icons\";\r\n\r\nconst LoadingContainer = ({ authLoaded, profileLoaded }) => {\r\n  return (\r\n    <div className=\"w-screen h-screen bg-gray-50 flex flex-col justify-center items-center\">\r\n      <div className=\"animate-pulse w-10 h-10 text-gray-500 mb-10\">\r\n        <IconSpinner />\r\n      </div>\r\n      <div className=\"text-md font-lato animate-pulse text-gray-900 text-center\">\r\n        {authLoaded\r\n          ? \"✔ Firebase Auth Loaded successfully\"\r\n          : \"• Firebase Auth is Loading...\"}\r\n        <br />\r\n        {authLoaded && profileLoaded\r\n          ? \"✔ User profile loaded successfully\"\r\n          : \"• User profile is Loading...\"}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingContainer;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport FormInput from \"../../common/components/FormInput\";\r\nimport { IconSpinner } from \"../../common/components/Icons\";\r\nimport { completeProfileAction } from \"../../state/auth/authActions\";\r\n\r\nconst AddProfileInfoContainer = ({ auth, authError, completeProfile }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [image, setImage] = useState({ preview: \"\", raw: null });\r\n  const [firstName, setFirstName] = useState(\r\n    localStorage.getItem(\"firstName\") ?? \"\"\r\n  );\r\n  const [lastName, setLastName] = useState(\r\n    localStorage.getItem(\"lastName\") ?? \"\"\r\n  );\r\n  const [nic, setNic] = useState(localStorage.getItem(\"nic\") ?? \"\");\r\n  const [phone, setPhone] = useState(localStorage.getItem(\"phone\") ?? \"\");\r\n  const [inputError, setInputError] = useState({\r\n    firstName: false,\r\n    lastName: false,\r\n    nic: false,\r\n    phone: false,\r\n    photo: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (authError) {\r\n      setLoading(false);\r\n    }\r\n  }, [authError]);\r\n\r\n  const handleFileChange = async (e) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      let src = await new Promise((resolve) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(e.target.files[0]);\r\n        reader.onload = () => resolve(reader.result);\r\n      });\r\n      setImage({\r\n        preview: src,\r\n        raw: e.target.files[0],\r\n      });\r\n    }\r\n  };\r\n\r\n  const validateInput = () => {\r\n    let check = false;\r\n    let _inputError = inputError;\r\n    if (!image.raw) {\r\n      _inputError = { ..._inputError, photo: true };\r\n      check = true;\r\n    } else {\r\n      _inputError = { ..._inputError, photo: false };\r\n    }\r\n    if (firstName.trim().length < 1) {\r\n      _inputError = { ..._inputError, firstName: true };\r\n      check = true;\r\n    } else {\r\n      _inputError = { ..._inputError, firstName: false };\r\n    }\r\n    if (lastName.trim().length < 1) {\r\n      _inputError = { ..._inputError, lastName: true };\r\n      check = true;\r\n    } else {\r\n      _inputError = { ..._inputError, lastName: false };\r\n    }\r\n    if (nic.trim().length < 1) {\r\n      _inputError = { ..._inputError, nic: true };\r\n      check = true;\r\n    } else {\r\n      _inputError = { ..._inputError, nic: false };\r\n    }\r\n    //TODO: phone validation\r\n    if (phone.trim().length < 1) {\r\n      _inputError = { ..._inputError, phone: true };\r\n      check = true;\r\n    } else {\r\n      _inputError = { ..._inputError, phone: false };\r\n    }\r\n    setInputError(_inputError);\r\n    return check;\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const validation = validateInput();\r\n    console.log(inputError);\r\n    if (validation) return;\r\n\r\n    setLoading(true);\r\n    completeProfile({\r\n      firstName,\r\n      lastName,\r\n      nic,\r\n      phone,\r\n      photo: image.raw,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{ backdropFilter: \"blur(5px)\" }}\r\n      className=\"w-screen h-screen absolute z-20 flex flex-col items-center justify-center\"\r\n    >\r\n      <div\r\n        className=\"bg-gray-50 rounded-lg shadow-lg p-4 z-20\"\r\n        style={{ width: \"30rem\" }}\r\n      >\r\n        <p className=\"text-xl text-gray-800 text-center\">Welcome Back!</p>\r\n        <div className=\"mt-4 flex items-center justify-between\">\r\n          <span className=\"border-b w-1/5 lg:w-1/4\"></span>\r\n\r\n          <span className=\"text-xs text-center text-gray-500 uppercase\">\r\n            Complete your profile\r\n          </span>\r\n\r\n          <span className=\"border-b w-1/5 lg:w-1/4\"></span>\r\n        </div>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mt-4 flex space-x-2\">\r\n            <div className=\"w-1/3\">\r\n              <div className=\"flex flex-row items-center justify-center\">\r\n                <label htmlFor=\"photo\">\r\n                  <div\r\n                    className={`${\r\n                      inputError.photo\r\n                        ? \"ring-red-400 ring-2 border-red-500\"\r\n                        : \"\"\r\n                    } w-32 h-32 bg-gray-300 shadow-md overflow-hidden rounded-full flex items-center justify-center`}\r\n                  >\r\n                    {image.preview ? (\r\n                      <img\r\n                        src={image.preview}\r\n                        alt=\"profile\"\r\n                        className=\"min-h-full w-max\"\r\n                      />\r\n                    ) : (\r\n                      <>\r\n                        <p className=\"text-sm text-center\">\r\n                          Select a profile photo\r\n                        </p>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </label>\r\n                <input\r\n                  hidden={true}\r\n                  id=\"photo\"\r\n                  type=\"file\"\r\n                  onChange={handleFileChange}\r\n                  accept=\"image/jpg\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"w-2/3\">\r\n              <FormInput\r\n                id=\"firstName\"\r\n                labelText=\"First Name\"\r\n                name=\"firstName\"\r\n                type=\"text\"\r\n                required={true}\r\n                onChange={(e) => {\r\n                  validateInput();\r\n                  setFirstName(e.target.value);\r\n                }}\r\n                defaultValue={firstName}\r\n                validationError={inputError.firstName}\r\n              />\r\n              <FormInput\r\n                id=\"lastName\"\r\n                labelText=\"Last Name\"\r\n                name=\"lastName\"\r\n                type=\"text\"\r\n                required={true}\r\n                onChange={(e) => {\r\n                  validateInput();\r\n                  setLastName(e.target.value);\r\n                }}\r\n                defaultValue={lastName}\r\n                validationError={inputError.lastName}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"mt-4 flex space-x-2\">\r\n            <div className=\"w-1/2\">\r\n              <FormInput\r\n                id=\"nic\"\r\n                labelText=\"NIC Number\"\r\n                name=\"nic\"\r\n                type=\"text\"\r\n                required={true}\r\n                tooltipText=\"NIC will be used to only confirm your identity\"\r\n                onChange={(e) => {\r\n                  validateInput();\r\n                  setNic(e.target.value);\r\n                }}\r\n                defaultValue={nic}\r\n                validationError={inputError.nic}\r\n                minLength={10}\r\n                maxLength={13}\r\n              />\r\n            </div>\r\n            <div className=\"w-1/2\">\r\n              <FormInput\r\n                id=\"phone\"\r\n                labelText=\"Phone\"\r\n                name=\"phone\"\r\n                type=\"text\"\r\n                required={true}\r\n                tooltipText=\"Phone will be shared with keels staff\"\r\n                onChange={(e) => {\r\n                  validateInput();\r\n                  setPhone(e.target.value);\r\n                }}\r\n                defaultValue={[phone]}\r\n                validationError={inputError.phone}\r\n                minLength={10}\r\n                maxLength={10}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"mt-8\">\r\n            <button\r\n              // disabled={loading}\r\n              type=\"submit\"\r\n              className=\"bg-gray-700 text-white uppercase font-bold py-2 px-4 w-full rounded-lg hover:bg-gray-600 focus:outline-none focus:bg-gray-600 ease-out duration-300\"\r\n            >\r\n              {loading ? (\r\n                <div className=\"w-6 h-6 mx-auto\">\r\n                  <IconSpinner colorClass=\"text-gray-300\" />\r\n                </div>\r\n              ) : (\r\n                \"Sign in\"\r\n              )}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div className=\"w-screen h-screen absolute bg-black opacity-40\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    authError: state.auth.authError,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    completeProfile: (data) => dispatch(completeProfileAction(data)),\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AddProfileInfoContainer);\r\n","import { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect, isLoaded } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\n\r\nconst UserInfoCard = ({ user, address }) => {\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    if (isLoaded(user)) setLoading(false);\r\n  }, [user]);\r\n  if (loading) return <div>Loading..</div>;\r\n\r\n  return (\r\n    <div className=\"flex flex-row space-x-2 items-center\">\r\n      <div\r\n        className=\"w-10 h-10 rounded-xl bg-cover \"\r\n        style={{ backgroundImage: `url(\"${user?.photo}\")` }}\r\n      ></div>\r\n      <div className=\"flex flex-col\">\r\n        <div className=\"text-gray-800\">{`${user?.firstName} ${user?.lastName}`}</div>\r\n        {address}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  return {\r\n    id: props.id,\r\n    user: state.firestore.data[`${props.id}_user`],\r\n    auth: state.firebase.auth,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {};\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  firestoreConnect((props) => {\r\n    return [\r\n      {\r\n        collection: \"users\",\r\n        doc: props.id,\r\n        storeAs: `${props.id}_user`,\r\n      },\r\n    ];\r\n  })\r\n)(UserInfoCard);\r\n","import { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect, isLoaded } from \"react-redux-firebase\";\r\nimport moment from \"moment\";\r\nimport { compose } from \"redux\";\r\n\r\nconst UserInfoCardMessages = ({ user, message }) => {\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    if (isLoaded(user)) setLoading(false);\r\n  }, [user]);\r\n  if (loading)\r\n    return (\r\n      <div className=\"px-2 py-1 m-1 border border-opacity-40 bg-gray-100 rounded-md text-justify\">\r\n        Loading..\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div className=\"flex flex-row space-x-2 items-start mb-6\">\r\n      <div\r\n        className=\"w-10 h-10 rounded-xl bg-cover flex-shrink-0\"\r\n        style={{ backgroundImage: `url(\"${user.photo}\")` }}\r\n      ></div>\r\n      <div className=\"flex flex-col w-full\">\r\n        <div className=\"flex flex-row justify-between items-center space-x-1\">\r\n          <div className=\"text-sm text-gray-600\">{`${user.firstName} ${\r\n            user.lastName\r\n          } ${user.role ? `[${user.role} STAFF]` : \"\"}`}</div>\r\n          <div className=\"text-sm text-gray-600\">{`replied ${moment(\r\n            message.created_at.toDate()\r\n          ).fromNow()}`}</div>\r\n        </div>\r\n        <div className=\"px-2 py-1 m-1 border border-opacity-40 bg-gray-100 rounded-md text-justify\">\r\n          {message.body}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  return {\r\n    id: props.id,\r\n    user: state.firestore.data[`${props.message.id}_user`],\r\n    auth: state.firebase.auth,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {};\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  firestoreConnect((props) => {\r\n    return [\r\n      {\r\n        collection: \"users\",\r\n        doc: props.message.user.id,\r\n        storeAs: `${props.message.id}_user`,\r\n      },\r\n    ];\r\n  })\r\n)(UserInfoCardMessages);\r\n","import { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect, isEmpty, isLoaded } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport moment from \"moment\";\r\nimport UserInfoCardMessages from \"./UserInfoCardMessages\";\r\nimport { sendMessage } from \"../../../state/auth/authActions\";\r\n\r\nconst sevenDaysFromToday = moment().subtract(7, \"days\").toDate();\r\n\r\nconst MessageContainer = ({\r\n  id,\r\n  messages,\r\n  auth,\r\n  userId,\r\n  profile,\r\n  sendMessage,\r\n}) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [newMsg, setNewMsg] = useState(null);\r\n  useEffect(() => {\r\n    if (isLoaded(messages)) setLoading(false);\r\n  }, [messages]);\r\n  if (loading) return <div className=\"mt-6\">Messages Loading..</div>;\r\n\r\n  const send = () => {\r\n    sendMessage({\r\n      harvestId: id,\r\n      body: newMsg,\r\n      sentByOwner: auth.uid === userId,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col space-x-2 mt-6\">\r\n      <div className=\"border-b font-bold\">Messages</div>\r\n\r\n      {(!isEmpty(auth) && auth.uid === userId) || profile?.role ? (\r\n        <div className=\"flex flex-col items-end\">\r\n          <textarea\r\n            rows={4}\r\n            className=\"p-2 w-full focus:outline-none border rounded-md mt-1\"\r\n            placeholder=\"Type your reply here\"\r\n            onChange={(e) => setNewMsg(e.target.value)}\r\n          />\r\n          <button\r\n            onClick={send}\r\n            disabled={!newMsg}\r\n            className=\"bg-gray-700 text-white text-sm uppercase font-bold py-2 px-4 my-2 rounded-lg hover:bg-gray-600 focus:outline-none focus:bg-gray-600 ease-out duration-300\"\r\n          >\r\n            Send\r\n          </button>\r\n        </div>\r\n      ) : null}\r\n\r\n      {messages && messages.length > 0 ? (\r\n        <>\r\n          <div className=\"mt-6 \">\r\n            {messages.map((message) => (\r\n              <UserInfoCardMessages key={message.id} message={message} />\r\n            ))}\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <div className=\"font-bold text-gray-500 text-center px-2 py-1 m-1 border border-opacity-40 bg-gray-100\">\r\n          There are no messages\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  return {\r\n    id: props.id,\r\n    messages: state.firestore.ordered[`${props.id}_selected_messages`],\r\n    auth: state.firebase.auth,\r\n    profile: state.firebase.profile,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendMessage: (data) => dispatch(sendMessage(data)),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  firestoreConnect((props) => {\r\n    return [\r\n      {\r\n        collection: \"harvests\",\r\n        where: [[\"created_at\", \">\", sevenDaysFromToday]],\r\n        orderBy: [\"created_at\", \"desc\"],\r\n      },\r\n      {\r\n        collection: \"categories\",\r\n        orderBy: \"score\",\r\n      },\r\n      {\r\n        collection: \"harvests\",\r\n        doc: props.id,\r\n        storeAs: \"selected_harvest\",\r\n      },\r\n      {\r\n        collection: \"harvests\",\r\n        doc: props.id,\r\n        subcollections: [\r\n          {\r\n            collection: \"messages\",\r\n            orderBy: [\"created_at\", \"desc\"],\r\n          },\r\n        ],\r\n        storeAs: `${props.id}_selected_messages`,\r\n      },\r\n    ];\r\n  })\r\n)(MessageContainer);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect, isEmpty, isLoaded } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport {\r\n  IconStarOutline,\r\n  IconStarFill,\r\n  IconSpinner,\r\n  IconEditOutline,\r\n} from \"../../common/components/Icons\";\r\nimport moment from \"moment\";\r\nimport UserInfoCard from \"./components/UserInfoCard\";\r\nimport MessageContainer from \"./components/MessageContainer\";\r\nimport {\r\n  addImage,\r\n  editHarvest,\r\n  showAuthModal,\r\n  updateRating,\r\n  removeImage,\r\n  deleteHarvest,\r\n} from \"../../state/auth/authActions\";\r\n\r\nconst sevenDaysFromToday = moment().subtract(7, \"days\").toDate();\r\n\r\nconst HarvestPageContainer = ({\r\n  harvest,\r\n  auth,\r\n  showAuthModal,\r\n  setRating,\r\n  profile,\r\n  edit,\r\n  remove,\r\n  addNewImage,\r\n  removeImageByUrl,\r\n}) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedPicture, setSelectedPicture] = useState(\"\");\r\n  const [canEdit, setCanEdit] = useState(false);\r\n  const [editing, setEditing] = useState(false);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [uploading, setUploading] = useState(false);\r\n  useEffect(() => {\r\n    if (isLoaded(harvest)) {\r\n      setLoading(false);\r\n      if (harvest.images) setSelectedPicture(harvest.images[0]);\r\n      if (harvest.farmer && auth.uid === harvest.farmer.id) setCanEdit(true);\r\n      setTitle(harvest.title);\r\n      setDescription(harvest.description);\r\n    }\r\n  }, [auth.uid, harvest]);\r\n  if (loading)\r\n    return (\r\n      <div className=\"flex w-full h-full flex-col justify-center items-center\">\r\n        <div className=\"animate-pulse w-10 h-10 text-gray-500 mb-2\">\r\n          <IconSpinner />\r\n        </div>\r\n        <div className=\"text-md font-lato animate-pulse text-gray-900\">\r\n          Loading\r\n        </div>\r\n      </div>\r\n    );\r\n  if (isEmpty(harvest))\r\n    return (\r\n      <div className=\"flex w-full h-full flex-col justify-center items-center\">\r\n        Not found\r\n      </div>\r\n    );\r\n\r\n  const saveChanges = () => {\r\n    if (!title) {\r\n      alert(\"Title cannot be empty\");\r\n      return;\r\n    }\r\n    if (!description) {\r\n      alert(\"description cannot be empty\");\r\n      return;\r\n    }\r\n    edit({\r\n      key: \"title\",\r\n      value: title,\r\n      harvestId: harvest.id,\r\n    });\r\n    edit({\r\n      key: \"description\",\r\n      value: description,\r\n      harvestId: harvest.id,\r\n    });\r\n    setEditing(!editing);\r\n  };\r\n  const rateStarOnClick = (rating) => {\r\n    if (!isEmpty(auth) && profile?.role) {\r\n      setRating({\r\n        rating,\r\n        harvestId: harvest.id,\r\n        ratingBy: auth.uid,\r\n      });\r\n    } else {\r\n      alert(\"Only Keels Staff and DOA staff can set rating\");\r\n    }\r\n  };\r\n  const handleFilesChange = async (e) => {\r\n    if (uploading) return;\r\n    if (e.target.files) {\r\n      setUploading(true);\r\n      await addNewImage({ image: e.target.files[0], harvestId: harvest.id });\r\n      setUploading(false);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"flex w-full h-full\">\r\n      <div className=\"flex-1 flex pr-4 flex-col h-full overflow-y-auto \">\r\n        <div className=\"h-full flex flex-col\">\r\n          <div\r\n            className=\"flex-1 bg-gray-300 bg-cover bg-center rounded-lg mb-2\"\r\n            style={{ backgroundImage: `url(\"${selectedPicture}\")` }}\r\n          ></div>\r\n          {harvest &&\r\n          harvest.images &&\r\n          (harvest.images.length > 1 || canEdit) ? (\r\n            <div className=\"h-64 w-full flex flex-row overflow-y-hidden overflow-x-auto pb-2 space-x-2\">\r\n              {harvest.images.map((image) => (\r\n                <div\r\n                  className=\"w-60 h-60 hover:border-green-600 border-2 ease-out duration-300 square relative bg-gray-400 rounded-lg bg-center bg-cover\"\r\n                  style={{ backgroundImage: `url(\"${image}\")` }}\r\n                  onClick={() => setSelectedPicture(image)}\r\n                >\r\n                  {canEdit ? (\r\n                    <div\r\n                      className=\"absolute top-1 right-1 font-bold px-2 py-1 cursor-pointer bg-gray-700 rounded select-none text-gray-50\"\r\n                      onClick={() => {\r\n                        let t = window.confirm(\"Are you sure\");\r\n                        if (t)\r\n                          removeImageByUrl({\r\n                            imageUrl: image,\r\n                            harvestId: harvest.id,\r\n                          });\r\n                      }}\r\n                    >\r\n                      Remove\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n              ))}\r\n              {canEdit ? (\r\n                <label\r\n                  htmlFor=\"addImage\"\r\n                  className=\"w-60 flex-grow-0 flex cursor-pointer justify-center items-center hover:border-gray-500 hover:text-gray-500 border-2 border-dashed border-gray-300 text-gray-300 ease-out duration-300 square bg-gray-50 rounded-lg\"\r\n                >\r\n                  {!uploading ? (\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      stroke=\"currentColor\"\r\n                      className=\"w-20 h-20\"\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeWidth={2}\r\n                        d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"\r\n                      />\r\n                    </svg>\r\n                  ) : (\r\n                    <div className=\"w-10 h-10 text-gray-500 \">\r\n                      <IconSpinner />\r\n                    </div>\r\n                  )}\r\n                  {!uploading ? \"Add new photo\" : \"Uploading\"}\r\n                  <input\r\n                    id=\"addImage\"\r\n                    type=\"file\"\r\n                    accept=\".png, .jpg\"\r\n                    onChange={handleFilesChange}\r\n                    hidden\r\n                  />\r\n                </label>\r\n              ) : null}\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n      <div className=\"flex-1 pl-4 pr-4 h-full overflow-y-auto\">\r\n        <div className=\"text-3xl font-bold text-gray-700 mb-1\">\r\n          {editing ? (\r\n            <textarea\r\n              defaultValue={harvest.title}\r\n              className=\"border w-full p-1 rounded\"\r\n              autoFocus\r\n              onChange={(e) => setTitle(e.target.value)}\r\n            />\r\n          ) : (\r\n            harvest.title\r\n          )}\r\n        </div>\r\n        <div className=\"flex flex-row justify-between items-end mt-4 mb-2\">\r\n          {!isEmpty(auth) ? (\r\n            <UserInfoCard\r\n              id={harvest.farmer.id}\r\n              address={\r\n                <a\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                  href={`https://www.google.com/maps/search/${harvest.location.latitude},${harvest.location.longitude}`}\r\n                  className=\"text-md text-gray-400 hover:underline\"\r\n                >\r\n                  {`${!isEmpty(auth) ? `${harvest.address.street}, ` : \"\"} ${\r\n                    harvest.address.city\r\n                  }, ${harvest.address.province} `}\r\n                </a>\r\n              }\r\n            />\r\n          ) : null}\r\n          <div className=\"flex flex-col items-end\">\r\n            {canEdit ? (\r\n              <div className=\"flex flex-row space-x-1\">\r\n                <div\r\n                  onClick={() => saveChanges()}\r\n                  className=\"text-sm py-1 px-2 bg-gray-700 rounded select-none text-gray-50 text-left hover:underline cursor-pointer\"\r\n                >\r\n                  {editing ? \"Save\" : \"Edit\"}\r\n                </div>\r\n                {!editing ? (\r\n                  <div\r\n                    onClick={() => {\r\n                      let t = window.confirm(\r\n                        \"Action cannot be undone! Are you sure?\"\r\n                      );\r\n                      if (t)\r\n                        remove({\r\n                          harvestId: harvest.id,\r\n                        });\r\n                    }}\r\n                    className=\"text-sm py-1 px-2 bg-gray-700 rounded select-none text-gray-50 text-left hover:underline cursor-pointer\"\r\n                  >\r\n                    Delete\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            ) : null}\r\n            <div className=\"text-sm text-gray-400\">\r\n              {`Posted ${moment(harvest.created_at.toDate()).fromNow()}`}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-4 text-justify\">\r\n          {editing ? (\r\n            <textarea\r\n              defaultValue={harvest.description}\r\n              className=\"border w-full p-1 rounded\"\r\n              rows={5}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            />\r\n          ) : (\r\n            harvest.description\r\n          )}\r\n        </div>\r\n        <div className=\"mt-4 flex flex-row items-center space-x-1\">\r\n          <div className=\"font-bold\">Rating:</div>\r\n          {[...Array(5)].map((e, i) =>\r\n            (harvest.rating ?? 0) > i ? (\r\n              <div\r\n                className=\"w-6 h-6 cursor-pointer\"\r\n                onClick={() => rateStarOnClick(i + 1)}\r\n              >\r\n                <IconStarFill colorClass=\"text-yellow-500\" />\r\n              </div>\r\n            ) : (\r\n              <div\r\n                className=\"w-5 h-5 hover:text-gray-700 cursor-pointer\"\r\n                onClick={() => rateStarOnClick(i + 1)}\r\n              >\r\n                <IconStarOutline />\r\n              </div>\r\n            )\r\n          )}\r\n          <div className=\"\">{`${harvest.rating ?? 0}x`}</div>\r\n        </div>\r\n        {!isEmpty(auth) ? (\r\n          <MessageContainer id={harvest.id} userId={harvest.farmer.id} />\r\n        ) : (\r\n          <div\r\n            onClick={() => showAuthModal()}\r\n            className=\"mt-4 font-bold text-gray-500 text-center px-2 py-1 m-1 border border-opacity-40 bg-gray-100\"\r\n          >\r\n            Please sign in to get more information\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  const id = props.match?.params?.id;\r\n  return {\r\n    id,\r\n    harvest: state.firestore.ordered.selected_harvest\r\n      ? state.firestore.ordered.selected_harvest[0]\r\n      : [],\r\n    categories: state.firestore.ordered.categories ?? [],\r\n    auth: state.firebase.auth,\r\n    profile: state.firebase.profile,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    showAuthModal: () => dispatch(showAuthModal()),\r\n    setRating: (data) => dispatch(updateRating(data)),\r\n    edit: (data) => dispatch(editHarvest(data)),\r\n    addNewImage: (data) => dispatch(addImage(data)),\r\n    removeImageByUrl: (data) => dispatch(removeImage(data)),\r\n    remove: (data) => dispatch(deleteHarvest(data)),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  firestoreConnect((props) => {\r\n    const id = props.match?.params?.id;\r\n    return [\r\n      {\r\n        collection: \"harvests\",\r\n        where: [[\"created_at\", \">\", sevenDaysFromToday]],\r\n        orderBy: [\"created_at\", \"desc\"],\r\n      },\r\n      {\r\n        collection: \"categories\",\r\n        orderBy: \"score\",\r\n      },\r\n      {\r\n        collection: \"harvests\",\r\n        doc: id,\r\n        storeAs: \"selected_harvest\",\r\n      },\r\n    ];\r\n  })\r\n)(HarvestPageContainer);\r\n","import { connect } from \"react-redux\";\r\nimport { firestoreConnect, isLoaded } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport moment from \"moment\";\r\nimport { Doughnut, Bar } from \"react-chartjs-2\";\r\nimport { useEffect, useMemo, useState } from \"react\";\r\n\r\nconst sevenDaysFromToday = moment().subtract(7, \"days\").toDate();\r\n\r\nconst GraphPageContainer = (props) => {\r\n  const [data, setData] = useState({\r\n    datasets: [\r\n      {\r\n        data: [0, 0, 0],\r\n        backgroundColor: [\"#47464A\", \"#FDB45C\", \"#46BF9D\"],\r\n      },\r\n    ],\r\n\r\n    labels: [\"Grains\", \"Fruits\", \"Vegetables\"],\r\n  });\r\n  const [data2, setData2] = useState({\r\n    datasets: [\r\n      {\r\n        label: \"Users\",\r\n        backgroundColor: \"rgba(75,192,192,1)\",\r\n        borderColor: \"rgba(0,0,0,1)\",\r\n        borderWidth: 2,\r\n        data: [0, props.users.length, 0],\r\n      },\r\n    ],\r\n\r\n    labels: [\"Dec\", \"Jan\", \"Feb\"],\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [districtValues, setDistrictValues] = useState({\r\n    Jaffna: 0,\r\n    Kilinochchi: 0,\r\n    Mannar: 0,\r\n    Mullaitivu: 0,\r\n    Vavuniya: 0,\r\n    Puttalam: 0,\r\n    Kurunegala: 0,\r\n    Gampaha: 0,\r\n    Colombo: 0,\r\n    Kalutara: 0,\r\n    Anuradhapura: 0,\r\n    Polonnaruwa: 0,\r\n    Matale: 0,\r\n    Kandy: 0,\r\n    Nuwara_Eliya: 0,\r\n    Kegalle: 0,\r\n    Ratnapura: 0,\r\n    Trincomalee: 0,\r\n    Batticaloa: 0,\r\n    Ampara: 0,\r\n    Badulla: 0,\r\n    Monaragala: 0,\r\n    Hambantota: 0,\r\n    Matara: 0,\r\n    Galle: 0,\r\n  });\r\n  const [created, setCreated] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isLoaded(props.added_last_7_days, props.wasted_harvest, props.users)) {\r\n      setLoading(false);\r\n      if (!created) {\r\n        const d = data;\r\n        const list = districtValues;\r\n        for (let i = 0; i < props.added_last_7_days.length; i++) {\r\n          const x = props.added_last_7_days[i];\r\n          switch (x.categories[0].id) {\r\n            case \"lx2ip2EX2SiSP9XNbtHb\":\r\n              d.datasets[0].data[0] += 1;\r\n              break;\r\n            case \"iGWbWHqL272OeuMqnqu9\":\r\n              d.datasets[0].data[1] += 1;\r\n              break;\r\n            case \"q0IX8qPY3gNhgkoAkq1k\":\r\n              d.datasets[0].data[2] += 1;\r\n              break;\r\n\r\n            default:\r\n              break;\r\n          }\r\n          list[x.address.city] += 1;\r\n          setCreated(true);\r\n        }\r\n        setDistrictValues(list);\r\n        setData(d);\r\n      }\r\n    }\r\n  }, [\r\n    created,\r\n    data,\r\n    data.datasets,\r\n    data2,\r\n    districtValues,\r\n    props.added_last_7_days,\r\n    props.users,\r\n    props.wasted_harvest,\r\n  ]);\r\n\r\n  const sortData = () => {\r\n    for (let i = 0; i < props.added_last_7_days.length; i++) {\r\n      const x = props.added_last_7_days[i];\r\n      switch (x.categories[0].id) {\r\n        case \"lx2ip2EX2SiSP9XNbtHb\":\r\n          data.datasets[0].data[0] += 1;\r\n          break;\r\n        case \"iGWbWHqL272OeuMqnqu9\":\r\n          data.datasets[0].data[1] += 1;\r\n          break;\r\n        case \"q0IX8qPY3gNhgkoAkq1k\":\r\n          data.datasets[0].data[2] += 1;\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const generateDistrictWiseDate = () => {\r\n    let l = [];\r\n    for (const key in districtValues) {\r\n      l.push(\r\n        <div className=\"flex flex-row space-x-2 justify-between w-32 mb-1\">\r\n          <div>{`${key}`}</div>\r\n          <div>{`${districtValues[key]}`} </div>\r\n        </div>\r\n      );\r\n    }\r\n    return l;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex items- min-h-screen bg-gray-50 text-gray-800\">\r\n        <div className=\"flex flex-col p-4 w-full\">\r\n          <div className=\"grid grid-cols-12 gap-4\">\r\n            <div className=\"col-span-12 sm:col-span-6 md:col-span-3\">\r\n              <div className=\"flex flex-row bg-white shadow-sm rounded p-4\">\r\n                <div className=\"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-blue-100 text-blue-500\">\r\n                  <svg\r\n                    className=\"w-6 h-6\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth=\"2\"\r\n                      d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"\r\n                    ></path>\r\n                  </svg>\r\n                </div>\r\n                <div className=\"flex flex-col flex-grow ml-4\">\r\n                  <div className=\"text-sm text-gray-500\">Users</div>\r\n                  <div className=\"font-bold text-lg\">{props.users.length}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-span-12 sm:col-span-6 md:col-span-3\">\r\n              <div className=\"flex flex-row bg-white shadow-sm rounded p-4\">\r\n                <div className=\"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-green-100 text-green-500\">\r\n                  <svg\r\n                    className=\"w-6 h-6\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth=\"2\"\r\n                      d=\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\"\r\n                    ></path>\r\n                  </svg>\r\n                </div>\r\n                <div className=\"flex flex-col flex-grow ml-4\">\r\n                  <div className=\"text-sm text-gray-500\">\r\n                    New Harvests (this week)\r\n                  </div>\r\n                  <div className=\"font-bold text-lg\">\r\n                    {props.added_last_7_days.length}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-span-12 sm:col-span-6 md:col-span-3\">\r\n              <div className=\"flex flex-row bg-white shadow-sm rounded p-4\">\r\n                <div className=\"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-orange-100 text-orange-500\">\r\n                  <svg\r\n                    className=\"w-6 h-6\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth=\"2\"\r\n                      d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\r\n                    ></path>\r\n                  </svg>\r\n                </div>\r\n                <div className=\"flex flex-col flex-grow ml-4\">\r\n                  <div className=\"text-sm text-gray-500\">Categories</div>\r\n                  <div className=\"font-bold text-lg\">\r\n                    {props.categories.length}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-span-12 sm:col-span-6 md:col-span-3\">\r\n              <div className=\"flex flex-row bg-white shadow-sm rounded p-4\">\r\n                <div className=\"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-red-100 text-red-500\">\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    className=\"w-6 h-6\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                    />\r\n                  </svg>\r\n                </div>\r\n                <div className=\"flex flex-col flex-grow ml-4\">\r\n                  <div className=\"text-sm text-gray-500\">Wasted Harvest</div>\r\n                  <div className=\"font-bold text-lg\">\r\n                    {props.wasted_harvest.length}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex flex-row space-x-2 mt-2\">\r\n            <div className=\"flex-1\">\r\n              <div className=\"flex flex-col bg-white shadow-sm rounded p-4\">\r\n                <div className=\"block text-gray-700 text-lg font-semibold py-2 px-2\">\r\n                  District wise harvests\r\n                </div>\r\n                {generateDistrictWiseDate()}\r\n              </div>\r\n            </div>\r\n            <div className=\"flex-1 flex flex-col\">\r\n              <div className=\"\">\r\n                <div className=\"bg-white shadow-md rounded-lg px-3 py-2 mb-4\">\r\n                  <div className=\"block text-gray-700 text-lg font-semibold py-2 px-2\">\r\n                    Percentage\r\n                  </div>\r\n                  <div className=\"p1-3 text-sm h-72\">\r\n                    {!loading ? (\r\n                      <Doughnut\r\n                        width={100}\r\n                        height={50}\r\n                        options={{ maintainAspectRatio: false }}\r\n                        data={data}\r\n                      />\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"\">\r\n                <div className=\"bg-white shadow-md rounded-lg px-3 py-2\">\r\n                  <div className=\"text-gray-700 text-lg font-semibold py-2 px-2\">\r\n                    Users\r\n                  </div>\r\n                  <div className=\"text-sm \">\r\n                    <Bar height={127.5} data={data2} />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    added_last_7_days: state.firestore.ordered.added_last_7_days ?? [],\r\n    wasted_harvest: state.firestore.ordered.wasted_harvest ?? [],\r\n    users: state.firestore.ordered.users ?? [],\r\n    categories: state.firestore.ordered.categories ?? [],\r\n    auth: state.firebase.auth,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {};\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  firestoreConnect((props) => {\r\n    return [\r\n      {\r\n        collection: \"harvests\",\r\n        where: [[\"created_at\", \">\", sevenDaysFromToday]],\r\n        orderBy: [\"created_at\", \"desc\"],\r\n        storeAs: \"added_last_7_days\",\r\n      },\r\n      {\r\n        collection: \"harvests\",\r\n        where: [[\"created_at\", \"<=\", sevenDaysFromToday]],\r\n        orderBy: [\"created_at\", \"desc\"],\r\n        storeAs: \"wasted_harvest\",\r\n      },\r\n      {\r\n        collection: \"categories\",\r\n        orderBy: \"score\",\r\n      },\r\n      {\r\n        collection: \"users\",\r\n      },\r\n    ];\r\n  })\r\n)(GraphPageContainer);\r\n","import React from \"react\";\r\nimport { IconInfoOutline } from \"./Icons\";\r\nimport Tooltip from \"./Tooltip\";\r\n\r\nconst FormInputControlled = ({\r\n  id,\r\n  labelText,\r\n  name,\r\n  type,\r\n  required = false,\r\n  tooltipText,\r\n  onChange,\r\n  validationError = false,\r\n  disabled = false,\r\n  autoFocus = false,\r\n  minLength = 0,\r\n  maxLength = 100,\r\n  defaultValue = \"\",\r\n  placeholder = \"\",\r\n  value,\r\n}) => (\r\n  <>\r\n    <div className=\"flex justify-between items-center\">\r\n      <label\r\n        className=\"block text-gray-600 text-sm font-medium mb-2\"\r\n        htmlFor={id}\r\n      >\r\n        {labelText}\r\n      </label>\r\n      <div className=\"mb-2 text-xs text-gray-500 hover:text-gray-800 focus:outline-none cursor-pointer\">\r\n        {tooltipText ? (\r\n          <Tooltip tooltipText={tooltipText}>\r\n            <div className=\"w-4 h-4\">\r\n              <IconInfoOutline strokeWidth={2} />\r\n            </div>\r\n          </Tooltip>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n    <input\r\n      id={id}\r\n      name={name}\r\n      className={` ${\r\n        validationError\r\n          ? \"ring-red-400 ring-2 border-red-500\"\r\n          : \"focus:border-gray-500 focus:ring-gray-300 focus:ring \"\r\n      } bg-white text-gray-700 border border-gray-300 focus:outline-none rounded-lg py-2 px-4 block w-full transition-all ease-out duration-300`}\r\n      type={type}\r\n      onChange={onChange}\r\n      disabled={disabled}\r\n      autoFocus={autoFocus}\r\n      required={required}\r\n      minLength={minLength}\r\n      maxLength={maxLength}\r\n      value={value}\r\n      placeholder={placeholder}\r\n    />\r\n  </>\r\n);\r\nexport default FormInputControlled;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect, isLoaded } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport FormInput from \"../../common/components/FormInput\";\r\nimport FormInputControlled from \"../../common/components/FormInputControlled\";\r\nimport { IconSpinner } from \"../../common/components/Icons\";\r\nimport {\r\n  hideHarvestModal,\r\n  showHarvestModal,\r\n  addHarvest,\r\n} from \"../../state/auth/authActions\";\r\n\r\nconst provinces = [\r\n  \"Northern\",\r\n  \"North_Western\",\r\n  \"Western\",\r\n  \"North_Central\",\r\n  \"Central\",\r\n  \"Sabaragamuwa\",\r\n  \"Eastern\",\r\n  \"Uva\",\r\n  \"Southern\",\r\n];\r\nconst districts = {\r\n  Northern: [\"Jaffna\", \"Kilinochchi\", \"Mannar\", \"Mullaitivu\", \"Vavuniya\"],\r\n  North_Western: [\"Puttalam\", \"Kurunegala\"],\r\n  Western: [\"Gampaha\", \"Colombo\", \"Kalutara\"],\r\n  North_Central: [\"Anuradhapura\", \"Polonnaruwa\"],\r\n  Central: [\"Matale\", \"Kandy\", \"Nuwara_Eliya\"],\r\n  Sabaragamuwa: [\"Kegalle\", \"Ratnapura\"],\r\n  Eastern: [\"Trincomalee\", \"Batticaloa\", \"Ampara\"],\r\n  Uva: [\"Badulla\", \"Monaragala\"],\r\n  Southern: [\"Hambantota\", \"Matara\", \"Galle\"],\r\n};\r\nconst districtsLocations = {\r\n  Jaffna: [9.66845, 80.00742],\r\n  Kilinochchi: [9.3803, 80.377],\r\n  Mannar: [8.981, 79.9044],\r\n  Mullaitivu: [9.2671, 80.8142],\r\n  Vavuniya: [8.7542, 80.4982],\r\n  Puttalam: [8.0408, 79.8394],\r\n  Kurunegala: [7.4818, 80.3609],\r\n  Gampaha: [7.084, 80.0098],\r\n  Colombo: [6.9271, 79.8612],\r\n  Kalutara: [6.5854, 79.9607],\r\n  Anuradhapura: [8.3114, 80.4037],\r\n  Polonnaruwa: [7.9403, 81.0188],\r\n  Matale: [7.4675, 80.6234],\r\n  Kandy: [7.2906, 80.6337],\r\n  Nuwara_Eliya: [6.9497, 80.7891],\r\n  Kegalle: [7.2513, 80.3464],\r\n  Ratnapura: [6.7056, 80.3847],\r\n  Trincomalee: [8.5874, 81.2152],\r\n  Batticaloa: [7.731, 81.6747],\r\n  Ampara: [7.3018, 81.6747],\r\n  Badulla: [6.9934, 81.055],\r\n  Monaragala: [6.8728, 81.3507],\r\n  Hambantota: [6.1429, 81.1212],\r\n  Matara: [5.9549, 80.555],\r\n  Galle: [6.0535, 80.221],\r\n};\r\n\r\nconst AddHarvestContainer = (props) => {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isLoaded(props.categories)) {\r\n      setLoading(false);\r\n    }\r\n  }, [props.categories]);\r\n\r\n  const [selectedProvince, setSelectedProvince] = useState(provinces[0]);\r\n  const [selectedDistrict, setSelectedDistrict] = useState(\r\n    districts[provinces[0]][0]\r\n  );\r\n  const [latitude, setLatitude] = useState(\r\n    districtsLocations[districts[provinces[0]][0]][0]\r\n  );\r\n  const [longitude, setLongitude] = useState(\r\n    districtsLocations[districts[provinces[0]][0]][1]\r\n  );\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [street, setStreet] = useState(\"\");\r\n  const [categoryId, setCategoryId] = useState(\"\");\r\n  const [iconType, setIconType] = useState(\"vegetableIcon\");\r\n  const [files, setFiles] = useState([]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true)\r\n    props.addHarvest({\r\n      selectedDistrict,\r\n      selectedProvince,\r\n      street,\r\n      iconType,\r\n      latitude:districtsLocations[selectedDistrict][0],\r\n      longitude:districtsLocations[selectedDistrict][1],\r\n      title,\r\n      description,\r\n      categoryId,\r\n      files,\r\n    });\r\n  };\r\n  const handleFilesChange = (e) => {\r\n    if (e.target.files) {\r\n      setFiles(e.target.files);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"w-screen h-screen absolute z-20 flex flex-col items-center justify-center\">\r\n      <div\r\n        style={{ width: \"30rem\" }}\r\n        className=\"bg-gray-50 rounded-lg shadow-lg p-4 z-20\"\r\n      >\r\n        <button\r\n          onClick={() => props.hideHarvestModal()}\r\n          className=\"absolute bg-gray-100 w-8 h-8 top-0 right-0 rounded-lg flex items-center hover:shadow-md justify-center transition-all ease-out duration-400 focus:outline-none\"\r\n        >\r\n          🗙\r\n        </button>\r\n        <p className=\"text-xl text-gray-600 text-center font-bold\">\r\n          Add new harvest\r\n        </p>\r\n        <div className=\"mt-2 flex items-center justify-between\">\r\n          <span className=\"border-b w-1/6 lg:w-1/6\"></span>\r\n\r\n          <span className=\"text-xs text-center text-gray-500 uppercase\">\r\n            Please fill these information\r\n          </span>\r\n\r\n          <span className=\"border-b w-1/6 lg:w-1/6\"></span>\r\n        </div>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mt-2\">\r\n            <FormInput\r\n              id=\"title\"\r\n              labelText=\"Title\"\r\n              name=\"title\"\r\n              type=\"text\"\r\n              required={true}\r\n              disabled={loading}\r\n              onChange={(e) => {\r\n                setTitle(e.target.value);\r\n              }}\r\n              validationError={false}\r\n              autoFocus={true}\r\n            />\r\n          </div>\r\n          <div className=\"mt-2\">\r\n            <FormInput\r\n              id=\"description\"\r\n              labelText=\"Description\"\r\n              name=\"description\"\r\n              type=\"text\"\r\n              required={true}\r\n              disabled={loading}\r\n              onChange={(e) => {\r\n                setDescription(e.target.value);\r\n              }}\r\n              validationError={false}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mt-1\">\r\n            <FormInput\r\n              id=\"street\"\r\n              labelText=\"Street Address\"\r\n              name=\"street\"\r\n              type=\"text\"\r\n              required={true}\r\n              disabled={loading}\r\n              onChange={(e) => {\r\n                setStreet(e.target.value);\r\n              }}\r\n              validationError={false}\r\n            />\r\n          </div>\r\n          <div className=\"mt-2 flex space-x-2\">\r\n            <div className=\"w-1/2\">\r\n              <label\r\n                className=\"block text-gray-600 text-sm font-medium mb-2\"\r\n                htmlFor=\"provinceSelect\"\r\n              >\r\n                Province\r\n              </label>\r\n              <select\r\n                className=\"bg-white text-gray-700 border border-gray-300 focus:outline-none rounded-lg py-2 px-2 block w-full transition-all ease-out duration-300\"\r\n                id=\"provinceSelect\"\r\n                onChange={(e) => setSelectedProvince(e.target.value)}\r\n              >\r\n                {provinces.map((e) => (\r\n                  <option value={e}>{e}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div className=\"w-1/2\">\r\n              <label\r\n                className=\"block text-gray-600 text-sm font-medium mb-2\"\r\n                htmlFor=\"districtSelect\"\r\n              >\r\n                District\r\n              </label>\r\n              <select\r\n                className=\"bg-white text-gray-700 border border-gray-300 focus:outline-none rounded-lg py-2 px-2 block w-full transition-all ease-out duration-300\"\r\n                id=\"districtSelect\"\r\n                onChange={(e) => setSelectedDistrict(e.target.value)}\r\n              >\r\n                {districts[selectedProvince].map((e) => (\r\n                  <option value={e}>{e}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"mt-2 flex space-x-2\">\r\n            <div className=\"w-1/2\">\r\n              <FormInputControlled\r\n                id=\"latitude\"\r\n                labelText=\"Latitude\"\r\n                name=\"latitude\"\r\n                type=\"text\"\r\n                required={true}\r\n                disabled={loading}\r\n                onChange={(e) => {\r\n                  setLatitude(e.target.value);\r\n                }}\r\n                validationError={false}\r\n                value={districtsLocations[selectedDistrict][0]}\r\n              />\r\n            </div>\r\n            <div className=\"w-1/2\">\r\n              <FormInputControlled\r\n                id=\"longitude\"\r\n                labelText=\"Longitude\"\r\n                name=\"longitude\"\r\n                type=\"text\"\r\n                required={true}\r\n                disabled={loading}\r\n                onChange={(e) => {\r\n                  setLongitude(e.target.value);\r\n                }}\r\n                validationError={false}\r\n                value={districtsLocations[selectedDistrict][1]}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"mt-2\">\r\n            <label\r\n              className=\"block text-gray-600 text-sm font-medium mb-2\"\r\n              htmlFor=\"districtSelect\"\r\n            >\r\n              Category\r\n            </label>\r\n            <select\r\n              className=\"bg-white text-gray-700 border border-gray-300 focus:outline-none rounded-lg py-2 px-2 block w-full transition-all ease-out duration-300\"\r\n              id=\"category\"\r\n              required\r\n              onChange={(e) => setCategoryId(e.target.value)}\r\n            >\r\n              <option disabled selected value>\r\n                -- select a category --\r\n              </option>\r\n              {props.categories &&\r\n                props.categories.map((e) => (\r\n                  <option value={e.id}>{e.name}</option>\r\n                ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"mt-2\">\r\n            <label\r\n              className=\"block text-gray-600 text-sm font-medium mb-2\"\r\n              htmlFor=\"iconType\"\r\n            >\r\n              Icon Type\r\n            </label>\r\n            <select\r\n              className=\"bg-white text-gray-700 border border-gray-300 focus:outline-none rounded-lg py-2 px-2 block w-full transition-all ease-out duration-300\"\r\n              id=\"iconType\"\r\n              onChange={(e) => setIconType(e.target.value)}\r\n            >\r\n              <option value=\"vegetableIcon\">Vegetable Icon</option>\r\n              <option value=\"fruitIcon\">Fruit Icon</option>\r\n              <option value=\"grainsIcon\">Grains Icon</option>\r\n              <option value=\"otherIcon\">Other Icon</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"mt-2\">\r\n            <label\r\n              className=\"block text-gray-600 text-sm font-medium mb-2\"\r\n              htmlFor=\"selectFiles\"\r\n            >\r\n              Pictures\r\n            </label>\r\n            <input\r\n              type=\"file\"\r\n              id=\"selectFiles\"\r\n              onChange={handleFilesChange}\r\n              multiple\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mt-6\">\r\n            <button\r\n              disabled={loading}\r\n              type=\"submit\"\r\n              className=\"bg-gray-700 text-white uppercase font-bold py-2 px-4 w-full rounded-lg hover:bg-gray-600 focus:outline-none focus:bg-gray-600 ease-out duration-300\"\r\n            >\r\n              {loading ? (\r\n                <div className=\"w-6 h-6 mx-auto\">\r\n                  <IconSpinner colorClass=\"text-gray-300\" />\r\n                </div>\r\n              ) : (\r\n                \"ADD\"\r\n              )}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div className=\"w-screen h-screen absolute bg-black opacity-40\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    authError: state.auth.authError,\r\n    categories: state.firestore.ordered.categories ?? [],\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    hideHarvestModal: () => dispatch(hideHarvestModal()),\r\n    showHarvestModal: () => dispatch(showHarvestModal()),\r\n    addHarvest: (data) => dispatch(addHarvest(data)),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  firestoreConnect((props) => {\r\n    return [\r\n      {\r\n        collection: \"categories\",\r\n        orderBy: \"score\",\r\n      },\r\n    ];\r\n  })\r\n)(AddHarvestContainer);\r\n","import { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport { setRole } from \"../../state/auth/authActions\";\r\n\r\nconst SettingsContainer = ({ users, setRole }) => {\r\n  return (\r\n    <div className=\"flex flex-col\">\r\n      <div className=\"text-lg font-bold\">Users</div>\r\n      <table className=\"border min-w-full mt-4\">\r\n        <thead>\r\n          <tr>\r\n            <th className=\"px-6 py-3 border-b-2 border-gray-300 text-left leading-4 text-gray-700 tracking-wider\">\r\n              ID\r\n            </th>\r\n            <th className=\"px-6 py-3 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-700 tracking-wider\">\r\n              Name\r\n            </th>\r\n            <th className=\"px-6 py-3 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-700 tracking-wider\">\r\n              NIC\r\n            </th>\r\n            <th className=\"px-6 py-3 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-700 tracking-wider\">\r\n              Phone\r\n            </th>\r\n            <th className=\"px-6 py-3 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-700 tracking-wider\">\r\n              Role\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {users &&\r\n            users.map((user) => (\r\n              <tr key={user.id}>\r\n                <td className=\"px-6 py-4 whitespace-no-wrap border-b text-gray-900 border-gray-500 text-sm leading-5\">\r\n                  {user.id}\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-no-wrap border-b text-gray-900 border-gray-500 text-sm leading-5\">{`${user.firstName} ${user.lastName}`}</td>\r\n                <td className=\"px-6 py-4 whitespace-no-wrap border-b text-gray-900 border-gray-500 text-sm leading-5\">\r\n                  {user.nic}\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-no-wrap border-b text-gray-900 border-gray-500 text-sm leading-5\">\r\n                  {user.phone}\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-no-wrap border-b text-gray-900 border-gray-500 text-sm leading-5\">\r\n                  <select\r\n                    defaultValue={user.role ?? \"FARMER\"}\r\n                    onChange={(e) =>\r\n                      setRole({\r\n                        value: e.target.value,\r\n                        userId: user.id,\r\n                      })\r\n                    }\r\n                  >\r\n                    <option value=\"DOA\">DOA</option>\r\n                    <option value=\"KEELS\">KEELS</option>\r\n                    <option value=\"FARMER\">FARMER</option>\r\n                    <option value=\"ADMIN\">ADMIN</option>\r\n                  </select>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: state.firestore.ordered.users ?? [],\r\n    auth: state.firebase.auth,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setRole: (data) => dispatch(setRole(data)),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  firestoreConnect((props) => {\r\n    return [\r\n      {\r\n        collection: \"users\",\r\n      },\r\n    ];\r\n  })\r\n)(SettingsContainer);\r\n","import React, { useContext } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { __RouterContext } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport { isEmpty, isLoaded } from \"react-redux-firebase\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport { useSpring, useTransition, animated } from \"react-spring\";\r\nimport HomePage from \"./pages/HomePage/HomePageContainer\";\r\nimport ProfilePage from \"./pages/UserProfile/UserProfileContainer\";\r\nimport SideNav from \"./common/containers/SideNavContainer\";\r\nimport AuthContainer from \"./pages/Auth/AuthContainer\";\r\nimport LoadingContainer from \"./pages/Loading/LoadingContainer\";\r\nimport AddProfileInfoContainer from \"./pages/Auth/AddProfileInfoContainer\";\r\nimport HarvestPageContainer from \"./pages/HarvestPage/HarvestPageContainer\";\r\nimport GraphPageContainer from \"./pages/GraphPage/GraphPageContainer\";\r\nimport AddHarvestContainer from \"./pages/HarvestPage/AddHarvestContainer\";\r\nimport SettingsContainer from \"./pages/Settings/SettingsContainer\";\r\n\r\nfunction App(props) {\r\n  const { auth, profile, authModalVisible, harvestModalVisible } = props;\r\n  const loaded = isLoaded(auth, profile);\r\n  const { location } = useContext(__RouterContext);\r\n  const routeTransitions = useTransition(\r\n    location,\r\n    (location) => location.pathname,\r\n    {\r\n      from: {\r\n        opacity: 0,\r\n        transform: \"translate(5%,0)\",\r\n        position: \"absolute\",\r\n        width: \"100%\",\r\n      },\r\n      enter: {\r\n        opacity: 1,\r\n        transform: \"translate(0,0)\",\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n      },\r\n      leave: {\r\n        opacity: 0,\r\n        transform: \"translate(-5%,0)\",\r\n        position: \"absolute\",\r\n        width: \"100%\",\r\n      },\r\n    }\r\n  );\r\n  const loadingProps = useSpring({\r\n    opacity: loaded ? 0 : 1,\r\n    height: loaded ? \"0vh\" : \"100vh\",\r\n    overflow: \"hidden\",\r\n    position: \"absolute\",\r\n    zIndex: 999,\r\n  });\r\n  const authModalTransitions = useTransition(authModalVisible, null, {\r\n    from: {\r\n      opacity: 0,\r\n      backdropFilter: \"blur(0px)\",\r\n    },\r\n    enter: {\r\n      opacity: 1,\r\n      backdropFilter: \"blur(5px)\",\r\n    },\r\n    leave: {\r\n      opacity: 0,\r\n      backdropFilter: \"blur(0px)\",\r\n    },\r\n  });\r\n  const harvestModalTransitions = useTransition(harvestModalVisible, null, {\r\n    from: {\r\n      opacity: 0,\r\n      backdropFilter: \"blur(0px)\",\r\n    },\r\n    enter: {\r\n      opacity: 1,\r\n      backdropFilter: \"blur(5px)\",\r\n    },\r\n    leave: {\r\n      opacity: 0,\r\n      backdropFilter: \"blur(0px)\",\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div className=\"flex justify-center bg-gray-900\">\r\n      <ToastContainer position=\"top-center\" toastClassName=\"rounded-lg\" />\r\n\r\n      <animated.div style={loadingProps}>\r\n        <LoadingContainer\r\n          authLoaded={isLoaded(auth)}\r\n          profileLoaded={isLoaded(profile)}\r\n        />\r\n      </animated.div>\r\n      {!isEmpty(auth) && profile.profileCompleted === undefined ? (\r\n        <AddProfileInfoContainer auth={auth} />\r\n      ) : null}\r\n      {authModalTransitions.map(\r\n        ({ item, key, props: style }) =>\r\n          item && (\r\n            <animated.div\r\n              key={key}\r\n              style={style}\r\n              className=\"w-screen h-screen absolute z-20\"\r\n            >\r\n              <AuthContainer />\r\n            </animated.div>\r\n          )\r\n      )}\r\n      {harvestModalTransitions.map(\r\n        ({ item, key, props: style }) =>\r\n          item && (\r\n            <animated.div\r\n              key={key}\r\n              style={style}\r\n              className=\"w-screen h-screen absolute z-20\"\r\n            >\r\n              <AddHarvestContainer />\r\n            </animated.div>\r\n          )\r\n      )}\r\n\r\n      <div style={{width:\"1600px\"}} className=\" h-screen py-2 pr-2 rounded-lg bg-gray-50 flex relative overflow-hidden\">\r\n        <SideNav auth={auth} profile={profile} />\r\n        {routeTransitions.map(({ item, props, key }) => (\r\n          <animated.div\r\n            key={key}\r\n            style={props}\r\n            className=\"flex-1 flex-col overflow-y-auto bg-gray-50\"\r\n          >\r\n            <Switch location={item}>\r\n              <Route path=\"/\" component={HomePage} exact />\r\n              <Route path=\"/harvest/:id\" component={HarvestPageContainer} />\r\n              <Route path=\"/profile\" component={ProfilePage} />\r\n              <Route path=\"/graphs\" component={GraphPageContainer} />\r\n              <Route path=\"/settings\" component={SettingsContainer} />\r\n              <Route path=\"*\" component={() => <div>Not found</div>} />\r\n            </Switch>\r\n          </animated.div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.firebase.auth,\r\n    authModalVisible: state.auth.authModalVisible,\r\n    harvestModalVisible: state.auth.harvestModalVisible,\r\n    profile: state.firebase.profile,\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(App);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport {\r\n  reduxFirestore,\r\n  getFirestore,\r\n  createFirestoreInstance,\r\n} from \"redux-firestore\";\r\nimport { ReactReduxFirebaseProvider, getFirebase } from \"react-redux-firebase\";\r\nimport firebaseConfig from \"./utils/firebaseConfig\";\r\nimport firebase from \"firebase/app\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport rootReducer from \"./state/rootReducer\";\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\nimport \"./assets/output.css\";\r\nimport \"./assets/style.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  compose(\r\n    applyMiddleware(thunk.withExtraArgument({ getFirestore, getFirebase })),\r\n    reduxFirestore(firebaseConfig)\r\n  )\r\n);\r\n\r\nconst profileSpecificProps = {\r\n  userProfile: \"users\",\r\n  useFirestoreForProfile: true,\r\n  enableRedirectHandling: false,\r\n  resetBeforeLogin: false,\r\n  enableClaims: true,\r\n};\r\nconst rrfProps = {\r\n  firebase,\r\n  config: { ...firebaseConfig, ...profileSpecificProps },\r\n  dispatch: store.dispatch,\r\n  createFirestoreInstance,\r\n};\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ReactReduxFirebaseProvider {...rrfProps}>\r\n      <BrowserRouter basename={'/web-y2-s1-assignment/'}>\r\n        <App />\r\n      </BrowserRouter>\r\n    </ReactReduxFirebaseProvider>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n\r\nreportWebVitals(console.log);\r\n"],"sourceRoot":""}